(window.feefoJsonp=window.feefoJsonp||[]).push([[1],{153:function(t,e,n){"use strict";var o,i=n(1),s=n(332),r=(o=s)&&o.__esModule?o:{default:o};n(331),n(330),(0,i.tag)("feefowidget-rating-overlay",r.default,null)},328:function(t,e){},329:function(t,e){t.exports='<div class="item">\n  <div class="item-text">\n    <span>{opts.label}</span>\n  </div>\n  <div class="item-count">\n    <span>{opts.count}</span>\n  </div>\n</div>\n<div class="item item-bar">\n  <div class="item-bar-outer">\n    <div\n      riot-style="{\'width:\' + percentage + \'%;\'}"\n      class="item-bar-inner"></div>\n  </div>\n</div>\n'},330:function(t,e,n){"use strict";var o,i=n(1),s=n(329),r=(o=s)&&o.__esModule?o:{default:o};function a(){this.mixin(a.prototype),this.percentage=0,this.on("mount",this._onMount),this.on("update",this._onUpdate)}n(328),Object.assign(a.prototype,{_onMount:function(){this.opts.count=parseInt(this.opts.count,10)||0,this.opts.label=this.opts.label||"",this.opts.total=parseInt(this.opts.total,10)||0,this.update()},_onUpdate:function(){this.percentage=this.opts.count/this.opts.total*100}}),(0,i.tag)("feefowidget-rating-item",r.default,null,a)},331:function(t,e){},332:function(t,e){t.exports='<div class="feefowidget-rating-overlay">\n  <p if="{opts.averageRating}"\n     class="feefowidget-rating-overlay__average-rating">\n    {opts.averageRating}/5 {opts.labels.fourOrFiveStars}\n  </p>\n  <feefowidget-rating-item\n    label="5 {opts.labels.fourOrFiveStars}"\n    count="{opts.stars.five}"\n    total="{opts.total}"\n    widget-reference="widgetReference"\n    class="feefowidget-rating-item">\n  </feefowidget-rating-item>\n  <feefowidget-rating-item\n    label="4 {opts.labels.fourOrFiveStars}"\n    count="{opts.stars.four}"\n    total="{opts.total}"\n    widget-reference="widgetReference"\n    class="feefowidget-rating-item">\n  </feefowidget-rating-item>\n  <feefowidget-rating-item\n    label="3 {opts.labels.twoOrThreeStars}"\n    count="{opts.stars.three}"\n    total="{opts.total}"\n    widget-reference="widgetReference"\n    class="feefowidget-rating-item">\n  </feefowidget-rating-item>\n  <feefowidget-rating-item\n    label="2 {opts.labels.twoOrThreeStars}"\n    count="{opts.stars.two}"\n    total="{opts.total}"\n    widget-reference="widgetReference"\n    class="feefowidget-rating-item">\n  </feefowidget-rating-item>\n  <feefowidget-rating-item\n    label="1 {opts.labels.oneStar}"\n    count="{opts.stars.one}"\n    total="{opts.total}"\n    widget-reference="widgetReference"\n    class="feefowidget-rating-item">\n  </feefowidget-rating-item>\n</div>\n<span if="{opts.triangle && opts.triangle.show}"\n      class="feefowidget-rating-overlay__triangle {\'feefowidget-rating-overlay__triangle--center\' : opts.triangle.modificator === \'center\'}">\n</span>\n'},417:function(t,e){},418:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n(165),s=(o=i)&&o.__esModule?o:{default:o};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e,n){return(h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var i=new(Function.bind.apply(t,o));return n&&f(i,n.prototype),i}).apply(null,arguments)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],o=!0,i=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(o=(r=a.next()).done)&&(n.push(r.value),!e||n.length!==e);o=!0);}catch(t){i=!0,s=t}finally{try{o||null==a.return||a.return()}finally{if(i)throw s}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u=s.default.Utils,d=u.extend,g=u.addClass,v=u.removeClass,m=u.hasClass,y=u.Evented;function w(t){var e=p(t.split(" "),2),n=e[0],o=e[1];if(["left","right"].indexOf(n)>=0){var i=[o,n];n=i[0],o=i[1]}return[n,o].join(" ")}function b(t,e){for(var n,o=[];-1!==(n=t.indexOf(e));)o.push(t.splice(n,1));return o}var _=["click"],E={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},O="";for(var T in E){if({}.hasOwnProperty.call(E,T))void 0!==document.createElement("p").style[T]&&(O=E[T])}var P={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},D={};var C=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return h(i,e)};d(n,{createContext:t,drops:[],defaults:{}});var o={classPrefix:"drop",defaults:{position:"bottom left",openOn:"click",beforeClose:null,constrainToScrollParent:!0,constrainToWindow:!0,classes:"",remove:!1,openDelay:0,closeDelay:50,focusDelay:null,blurDelay:null,hoverOpenDelay:null,hoverCloseDelay:null,tetherOptions:{}}};d(n,o,e),d(n.defaults,o.defaults,e.defaults),void 0===D[n.classPrefix]&&(D[n.classPrefix]=[]),n.updateBodyClasses=function(){for(var t=!1,e=D[n.classPrefix],o=e.length,i=0;i<o;++i)if(e[i].isOpened()){t=!0;break}t?g(document.body,"".concat(n.classPrefix,"-open")):v(document.body,"".concat(n.classPrefix,"-open"))};var i=function(t){function e(t){var o,i,s;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,(o=!(s=l(e).call(this))||"object"!==r(s)&&"function"!=typeof s?c(i):s).options=d({},n.defaults,t),o.target=o.options.target,void 0===o.target)throw new Error("Drop Error: You must provide a target.");var a="data-".concat(n.classPrefix),h=o.target.getAttribute(a);h&&null==o.options.content&&(o.options.content=h);for(var f=["position","openOn"],p=0;p<f.length;++p){var u=o.target.getAttribute("".concat(a,"-").concat(f[p]));u&&null==o.options[f[p]]&&(o.options[f[p]]=u)}return o.options.classes&&!1!==o.options.addTargetClasses&&g(o.target,o.options.classes),n.drops.push(c(o)),D[n.classPrefix].push(c(o)),o._boundEvents=[],o.bindMethods(),o.setupElements(),o.setupEvents(),o.setupTether(),o}var o,i,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,y),o=e,(i=[{key:"_on",value:function(t,e,n){this._boundEvents.push({element:t,event:e,handler:n}),t.addEventListener(e,n)}},{key:"bindMethods",value:function(){this.transitionEndHandler=this._transitionEndHandler.bind(this)}},{key:"setupElements",value:function(){var t=this;if(this.drop=document.createElement("div"),g(this.drop,n.classPrefix),this.options.classes&&g(this.drop,this.options.classes),this.content=document.createElement("div"),g(this.content,"".concat(n.classPrefix,"-content")),"function"==typeof this.options.content){var e=function(){var e=t.options.content.call(t,t);if("string"==typeof e)t.content.innerHTML=e;else{if("object"!==r(e))throw new Error("Drop Error: Content function should return a string or HTMLElement.");t.content.innerHTML="",t.content.appendChild(e)}};e(),this.on("open",e.bind(this))}else"object"===r(this.options.content)?this.content.appendChild(this.options.content):this.content.innerHTML=this.options.content;this.drop.appendChild(this.content)}},{key:"setupTether",value:function(){var t=this.options.position.split(" ");t[0]=P[t[0]],t=t.join(" ");var e=[];this.options.constrainToScrollParent?e.push({to:"scrollParent",pin:"top, bottom",attachment:"together none"}):e.push({to:"scrollParent"}),!1!==this.options.constrainToWindow?e.push({to:"window",attachment:"together"}):e.push({to:"window"});var o={element:this.drop,target:this.target,attachment:w(t),targetAttachment:w(this.options.position),classPrefix:n.classPrefix,offset:"0 0",targetOffset:"0 0",enabled:!1,constraints:e,addTargetClasses:this.options.addTargetClasses};!1!==this.options.tetherOptions&&(this.tether=new s.default(d({},o,this.options.tetherOptions)))}},{key:"setupEvents",value:function(){var t=this;if(this.options.openOn)if("always"!==this.options.openOn){var e=this.options.openOn.split(" ");if(e.indexOf("click")>=0)for(var n=function(e){t.toggle(e),e.preventDefault()},o=function(e){t.isOpened()&&(e.target===t.drop||t.drop.contains(e.target)||e.target===t.target||t.target.contains(e.target)||t.close(e))},i=0;i<_.length;++i){var s=_[i];this._on(this.target,s,n),this._on(document,s,o)}var r=null,a=null,l=function(e){null!==a?clearTimeout(a):r=setTimeout(function(){t.open(e),r=null},("focus"===e.type?t.options.focusDelay:t.options.hoverOpenDelay)||t.options.openDelay)},c=function(e){null!==r?clearTimeout(r):a=setTimeout(function(){t.close(e),a=null},("blur"===e.type?t.options.blurDelay:t.options.hoverCloseDelay)||t.options.closeDelay)};e.indexOf("hover")>=0&&(this._on(this.target,"mouseover",l),this._on(this.drop,"mouseover",l),this._on(this.target,"mouseout",c),this._on(this.drop,"mouseout",c)),e.indexOf("focus")>=0&&(this._on(this.target,"focus",l),this._on(this.drop,"focus",l),this._on(this.target,"blur",c),this._on(this.drop,"blur",c))}else setTimeout(this.open.bind(this))}},{key:"isOpened",value:function(){if(this.drop)return m(this.drop,"".concat(n.classPrefix,"-open"))}},{key:"toggle",value:function(t){this.isOpened()?this.close(t):this.open(t)}},{key:"open",value:function(t){var e=this;this.isOpened()||(this.drop.parentNode||document.body.appendChild(this.drop),void 0!==this.tether&&this.tether.enable(),g(this.drop,"".concat(n.classPrefix,"-open")),g(this.drop,"".concat(n.classPrefix,"-open-transitionend")),setTimeout(function(){e.drop&&g(e.drop,"".concat(n.classPrefix,"-after-open"))}),void 0!==this.tether&&this.tether.position(),this.trigger("open"),n.updateBodyClasses())}},{key:"_transitionEndHandler",value:function(t){t.target===t.currentTarget&&(m(this.drop,"".concat(n.classPrefix,"-open"))||v(this.drop,"".concat(n.classPrefix,"-open-transitionend")),this.drop.removeEventListener(O,this.transitionEndHandler))}},{key:"beforeCloseHandler",value:function(t){var e=!0;return this.isClosing||"function"!=typeof this.options.beforeClose||(this.isClosing=!0,e=!1!==this.options.beforeClose(t,this)),this.isClosing=!1,e}},{key:"close",value:function(t){this.isOpened()&&this.beforeCloseHandler(t)&&(v(this.drop,"".concat(n.classPrefix,"-open")),v(this.drop,"".concat(n.classPrefix,"-after-open")),this.drop.addEventListener(O,this.transitionEndHandler),this.trigger("close"),void 0!==this.tether&&this.tether.disable(),n.updateBodyClasses(),this.options.remove&&this.remove(t))}},{key:"remove",value:function(t){this.close(t),this.drop.parentNode&&this.drop.parentNode.removeChild(this.drop)}},{key:"position",value:function(){this.isOpened()&&void 0!==this.tether&&this.tether.position()}},{key:"destroy",value:function(){this.remove(),void 0!==this.tether&&this.tether.destroy();for(var t=0;t<this._boundEvents.length;++t){var e=this._boundEvents[t],o=e.element,i=e.event,s=e.handler;o.removeEventListener(i,s)}this._boundEvents=[],this.tether=null,this.drop=null,this.content=null,this.target=null,b(D[n.classPrefix],this),b(n.drops,this)}}])&&a(o.prototype,i),h&&a(o,h),e}();return n}();document.addEventListener("DOMContentLoaded",function(){C.updateBodyClasses()}),e.default=C},47:function(t,e,n){"use strict";var o=n(1),i=h(n(5)),s=h(n(418)),r=h(n(20)),a=h(n(2));n(417);var l=h(n(10)),c=n(73);function h(t){return t&&t.__esModule?t:{default:t}}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){p(t,e,n[e])})}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(){this.mixin(d.prototype),this.common=r.default.resolve(),this.component=null,this.configInstance=a.default.init(this),this.instance=null,this.isFirstOpen=!0,this.on("mount",this._onMount),this.on("unmount",this._onUnmount)}Object.assign(d.prototype,{_componentAttach:function(){if(null===this.component){var t=(0,i.default)(this.opts.renderTag,this.instance.content);if(t.length){var e="object"===u(this.opts.renderData)?this.opts.renderData:{};this.component=(0,o.mount)(t,this.opts.renderData,e)[0],this.opts.onChildComponentAttached&&this.opts.onChildComponentAttached(this.component)}}},_componentDetach:function(){null!==this.component&&(this.component.unmount(),this.component=null)},_createContainerElement:function(){if((0,i.default)(".feefowidget-window-overlay-content",this.root).length)return(0,i.default)(".feefowidget-window-overlay-content",this.root);var t=(0,i.default)(document.createElement("div"));return t.attr("class","feefowidget-window-overlay-content"),t.append("<"+this.opts.renderTag+">"),(0,i.default)(this.root).append(t),(0,i.default)(".feefowidget-window-overlay-content",this.root)},_getDropOpenOn:function(){var t=this.opts.openOn?this.opts.openOn:"mouseenter";return this.config.isViewportDesktop||(t="mouseenter click"),t},_getDropPosition:function(){return this.opts.position?this.opts.position:"bottom center"},_onMount:function(){this._postMountSetup(),this._overlayAttach(),this._overlayPosition(),this.update()},_onUnmount:function(){this._overlayDetach()},_overlayAttach:function(){if(null===this.instance){var t=this._createContainerElement(),e=this.opts.theme||"drop-theme-feefo";if(this.targetElm=(0,i.default)(this.opts.triggerElement),this.targetElm.length&&t.length){var n={classes:e,content:t.html(),constrainToScrollParent:!1,constrainToWindow:!1,openOn:this._getDropOpenOn(),position:this._getDropPosition(),target:this.targetElm[0],tetherOptions:{constraints:this.opts.topLevel?[]:[{to:"scrollParent",pin:!1}]}};this.instance=new s.default(n),this.instanceElm=(0,i.default)(this.instance.content),this.__bindEvents(),this._componentAttach(),this._dropdownHidingEvents(),this.instanceElmTriangle=this.opts.triangleSelector?this.instanceElm.find(this.opts.triangleSelector):{},this.instanceElmTriangle=this.instanceElmTriangle.length?this.instanceElmTriangle:null,"object"!==u(this.opts.renderData)||this.opts.renderData.overlayInstance||(this.opts.renderData.overlayInstance=this.instance,this.update(),"function"==typeof this.opts.renderData.overlayAttached&&this.opts.renderData.overlayAttached())}}},__bindEvents:function(){var t=this,e=(0,i.default)(this.targetElm[0]),n="true"===this.opts.recheckPosition,o={attachment:this.instance.tether.options.attachment,targetAttachment:this.instance.tether.options.targetAttachment},s=l.default.debounce(this._checkPosition,100);this.instance.on("open",function(){e.addClass("feefowidget-drop-active"),t.isFirstOpen&&(t.isFirstOpen=!1,t.instance.close(),t.instance.open()),n&&(setTimeout(t._checkPosition),window.addEventListener("resize",s))}),this.instance.on("close",function(){e.removeClass("feefowidget-drop-active"),t._updateTetherOptions(o),t._setTranslateX(0),n&&window.removeEventListener("resize",s)})},_dropdownHidingEvents:function(){var t=this;if(this.opts.hideOnParentScroll){var e=(0,i.default)(this.opts.triggerElement),n=e.closest(c.GLOBAL_SELECTORS.reviewsContainer),o=e.closest("feefowidget-feedbacks-item"),s=!1;e.on("click",function(){s||(s=!0,n.animate({scrollTop:o[0].offsetTop},{duration:300,complete:function(){s=!1,setTimeout(function(){n.one("scroll",function(){t.instance.close()}),n.one("touchstart",function(){t.instance.close()})},150)}}))})}},_overlayDetach:function(){null!==this.instance&&(this.instance.destroy(),this.instance=null,this._componentDetach(),"object"===u(this.opts.renderData)&&this.opts.renderData.overlayInstance&&(delete this.opts.renderData.overlayInstance,this.update()))},_overlayPosition:function(){var t=this;null!==this.instance&&(this.instance.position(),setTimeout(function(){return t._viewportAttach()},50))},_overlayToggle:function(){null!==this.instance&&this.instance.toggle()},_postMountSetup:function(){var t=this;"object"===u(this.opts.renderData)&&(this.configInstance=a.default.setReference(this.opts.renderData.widgetReference,this.configInstance),this.configInstance.listen(this),this.opts.renderData.overlayAttach=function(){return t._overlayAttach()},this.opts.renderData.overlayToggle=function(){return t._overlayToggle()},this.opts.renderData.overlayDetach=function(){return t._overlayDetach()},this.widgetReference=this.opts.renderData.widgetReference)},_viewportAttach:function(){if(this.instance&&this.instanceElm&&this.instanceElm.length){var t=this.instanceElm.attr("class");this.common.VIEWPORT_CLASSES.forEach(function(e){t=t.replace(e,"")}),t.trim(),t+=" "+this.config.viewportClasses,this.instanceElm.attr("class",t)}},_checkPosition:function(){if(this.instanceElm){var t=l.default.getElementVisibilityInViewport(this.instance.drop);if(!t.isElementInViewport){var e=f({},this.instance.tether.targetAttachment),n=f({},this.instance.tether.attachment);t.isElementLeftInViewport?t.isElementRightInViewport||(e.left="left"):this._translateTetherElement(),t.isElementBottomInViewport||(e.top="top",n.top="bottom"),t.isElementRightInViewport&&t.isElementBottomInViewport||this._updateTetherOptions({attachment:"".concat(n.top," ").concat(n.left),targetAttachment:"".concat(e.top," ").concat(e.left)})}}},_updateTetherOptions:function(t){this.instance.tether.disable(),this.instance.tether.setOptions(f({},this.instance.tether.options,t)),this.instance.tether.enable()},_translateTetherElement:function(){var t,e=parseFloat(6===(t=this.instanceElm.css("transform").replace(/[^0-9\-.,]/g,"").split(",")).length?t[4]:0)||0,n=this.instanceElm[0].getBoundingClientRect().left,o=n-e>=0;if(e||!o){var i=o?0:e-Math.ceil(n);(i||0===i)&&this._setTranslateX(i)}},_setTranslateX:function(t){this.instanceElm.css({transform:"translateX(".concat(t,"px)")}),this.instanceElmTriangle&&this.instanceElmTriangle.css({transform:"translateX(".concat(-1*t,"px)")})}}),(0,o.tag)("feefowidget-window-overlay",null,null,d)},73:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.GLOBAL_SELECTORS={reviewsContainer:".feefowidget-global__reviews-container",container:".feefowidget-global-container",header:".feefowidget-global-container-header",content:".feefowidget-global-container-body-content"},e.PAGE_SELECTORS={modalContainer:".feefowidget-window-modal-container",readAllVerifiedReviews:".feefowidget-read-all-verified-reviews-link-text",readAllReviews:".feefowidget-read-all-reviews",tagLine:".feefowidget-global-container-footer-feefo-tagline"}}}]);