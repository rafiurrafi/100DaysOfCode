(window.feefoJsonp=window.feefoJsonp||[]).push([[3],Array(26).concat([function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA3MCAxNyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiM0OTQ1NDU7fS5jbHMtMntmaWxsOiNmZGRjNDc7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5GZWVmby1sb2dvLWdyZXl5ZWxsb3c8L3RpdGxlPjxnIGlkPSJMYXllcl8yIiBkYXRhLW5hbWU9IkxheWVyIDIiPjxnIGlkPSJMYXllcl8xLTIiIGRhdGEtbmFtZT0iTGF5ZXIgMS0yIj48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0xOC43NywxMS44di0uMzdjMC00LjQyLTIuNTgtNy4xMy02LjM2LTcuMTNBNi4xOCw2LjE4LDAsMCwwLDgsNi4xNSw2LDYsMCwwLDAsNi4yMywxMC41LDYuMjYsNi4yNiwwLDAsMCw4LDE0LjlhNS44NSw1Ljg1LDAsMCwwLDQuNDgsMS44OSw2LDYsMCwwLDAsNS43OC0zLjczSDE0LjM4YTIuNTcsMi41NywwLDAsMS0xLjgzLjY2QTIuNDgsMi40OCwwLDAsMSw5LjgxLDExLjhaTTE1LjI2LDkuMzRIOS43MmEyLjU2LDIuNTYsMCwwLDEsMi43My0xLjg3LDIuNzUsMi43NSwwLDAsMSwyLjgxLDEuODciLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0zMiwxMS44di0uMzdDMzIsNywyOS4zOSw0LjMsMjUuNjEsNC4zYTYuMiw2LjIsMCwwLDAtNC4zNywxLjg1LDYuMTEsNi4xMSwwLDAsMC0xLjgzLDQuMzUsNi4yNyw2LjI3LDAsMCwwLDEuNzUsNC40LDUuODgsNS44OCwwLDAsMCw0LjUsMS45LDYsNiwwLDAsMCw1Ljc4LTMuNzRIMjcuNThhMi41NywyLjU3LDAsMCwxLTEuODMuNjZBMi40OCwyLjQ4LDAsMCwxLDIzLDExLjhaTTI4LjQ2LDkuMzRIMjIuOTJhMi41NiwyLjU2LDAsMCwxLDIuNzQtMS44NywyLjczLDIuNzMsMCwwLDEsMi44LDEuODciLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0xLjI4LDcuM3Y5LjIxSDQuNzFWNy4zSDYuMDlWNC42NUg0LjcxVjQuMzZDNC43MSwzLjI4LDUsMi45Myw2LDIuOTNoLjA4Vi41NGwtLjU0LDBDMi42My41MiwxLjI2LDEuNjcsMS4yNiw0LjIxYzAsLjEzLDAsLjI4LDAsLjQ0SDBWNy4zWiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTMzLjMsNy4zdjkuMjFoMy40MlY3LjNoMS4zOVY0LjY1SDM2LjcyVjQuMzZjMC0xLjA4LjI0LTEuNDMsMS4zLTEuNDNoLjA5Vi41NGwtLjU1LDBjLTIuOTIsMC00LjI5LDEuMTUtNC4yOSwzLjY5LDAsLjEzLDAsLjI4LDAsLjQ0SDMyVjcuM1oiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik01MC42MywxMC41QTYuMjYsNi4yNiwwLDAsMCwzOS45Miw2LjJhNi4wNSw2LjA1LDAsMCwwLTEuODEsNC4zNiw2LjE2LDYuMTYsMCwwLDAsMS43NCw0LjM2LDUuODgsNS44OCwwLDAsMCw0LjQ5LDEuOUE2LjExLDYuMTEsMCwwLDAsNDguODQsMTVhNiw2LDAsMCwwLDEuNzktNC40Nm0tMy40Ny4wOWEyLjgxLDIuODEsMCwwLDEtNS42MS4xOXYtLjE5YTIuODEsMi44MSwwLDAsMSw1LjYxLS4zMnYuMzIiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik01Niw4LjU4YTMuMzYsMy4zNiwwLDAsMS0zLjEzLTMuMTRINjAuMlY1LjM2YzAtMi44OC0xLjg0LTQuODEtNC4zOS00LjgxYTQuMzgsNC4zOCwwLDAsMC00LjUyLDQuNTMsNC41MSw0LjUxLDAsMCwwLDQuNDMsNC41N2guMDVhNC4zOCw0LjM4LDAsMCwwLDQuMTYtM2gtLjc0YTMuMzQsMy4zNCwwLDAsMS0zLDEuOTFINTYiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik02NS4zMSw4LjU4YTMuMzQsMy4zNCwwLDAsMCwzLjEyLTMuMTRINjEuMDlWNS4zNmMwLTIuODgsMS44NC00LjgxLDQuMzktNC44MUE0LjM4LDQuMzgsMCwwLDEsNzAsNS4wOWE0LjQ5LDQuNDksMCwwLDEtNC40NCw0LjU2aDBhNC4zOSw0LjM5LDAsMCwxLTQuMTctM2guNzRhMy4zMSwzLjMxLDAsMCwwLDMsMS44OWguMiIvPjwvZz48L2c+PC9zdmc+"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n,o=i(29),s=(n=o)&&n.__esModule?n:{default:n};function a(e){this.nodes=e}Object.assign(a.prototype,{getNode:function(e){return(0,s.default)(this.nodes[e])},insertNode:function(e){var t=e.classes,i=e.text,n=this.root.querySelectorAll(t);if(n||n.length)for(var o=0;o<n.length;o+=1)n[o].innerHTML=i}})},,function(e,t,i){var n,o,s;o=[],void 0===(s="function"==typeof(n=function(){var e=new RegExp("\\_br_","g"),t=/&lt;wbr&gt;/g,i=new RegExp("\\^","g");return function(n,o){if(n)return o="string"==typeof o&&o?o:"",n.replace(e,o).replace(t,"<wbr>").replace(i,"&#8288;&#x2060;&NoBreak;")}})?n.apply(t,o):n)||(e.exports=s)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(i(5)),o=s(i(180));function s(e){return e&&e.__esModule?e:{default:e}}var a="tracking",r=new(s(i(36)).default);t.default={track:function(e){(0,n.default)(this.root).trigger(a,e)},trackingParams:function(e){this.on("mount",function(){(0,n.default)(this.root).on(a,function(t,i){n.default.extend(i,e)})}),this.on("unmount",function(){(0,n.default)(this.root).off(a)})},trackingRoot:function(e){if(e.data.enabledTracking){var t=!1,i=this,o=(0,n.default)(this.root);s(),this.on("mount",function(){t||s()}),this.on("unmount",function(){t&&(o.off(a),t=!1)})}function s(){o.on(a,function(t,n){i._issueTrackingRequest(e,n)}),t=!0}},_issueTrackingRequest:function(e,t){var i=t.event;delete t.event;var n=this._gatherExtraParams(e.data);t.type=this._eventType[i],n.eventBody=JSON.stringify(t),"{}"===n.eventBody&&delete n.eventBody,r.get("/event/"+i,{query:n})},_gatherExtraParams:function(e){var t=(0,n.default)(this.root).find("feefowidget-sentiment-widget"),i=o.default.get("sentisum_session"),s=t.length&&!t.hasClass("empty"),a={view:this._viewportType(e),version:s?"ENHANCED":"REGULAR",merchantId:e.merchantSlug,type:this._integrationType(e)};return e.isModeProduct&&(e.productSku?a.sku=e.productSku:e.parentProductSku&&(a.parentSku=e.parentProductSku)),i&&(a.sentisum_session=i),a.feefo_session=o.default.get("feefo_session"),a},_viewportType:function(e){return e.isViewportDesktop?"DESKTOP":e.isViewportTablet?"TABLET":"MOBILE"},_integrationType:function(e){var t="",i="";return e.isTypeFloating&&(t="WIDGET"),e.isTypeLightbox&&(t="JAVASCRIPT_LIGHTBOX"),e.isTypeOnpage&&(t="ON_PAGE_WIDGET"),e.isModeProduct&&(i="PRODUCT"),e.isModeService&&(i="SERVICE"),i+"_"+t},_eventType:{click:"ClickEventPreference",filter:"FilterEventPreference",filter_result:"FilterResultEventPreference",loaded:"LoadedEventPreference",load_more:"LoadMoreEventPreference",submit_ai_feedback:"SubmitAIFeedbackEventPreference"}}},,,,,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n,o=i(146),s=(n=o)&&n.__esModule?n:{default:n};function a(){s.default.call(this)}Object.assign(a.prototype,s.default.prototype,{})},function(e,t,i){"use strict";var n=d(i(1)),o=d(i(5)),s=d(i(75)),a=d(i(429)),r=i(73);function d(e){return e&&e.__esModule?e:{default:e}}n.default.tag("feefowidget-container-main",a.default,null,function(){var e=this,t=new s.default(e);function i(){var i;"function"==typeof e.opts.onReady&&e.opts.onReady({widgetReference:t.reference}),i=e.config.merchantName.toLowerCase(),(0,o.default)("feefowidget-container-main").attr("data-merchant-name",i),e.widgetReady=!0,e.update()}t.config.listen(e),t.attachMountConfig(e.opts.mountConfig),t.eventPromises=[t.events.on("fetch-media",function(){t.fetchMedia(e)}),t.events.on("fetch-selected-feature",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e.selectedFeature=t}),t.events.on("fetch-reviews",function(i){if(i.selectedFeature=e.selectedFeature,t.fetchReviews(e,i),i.scrollToTop){var n=i.scrollToSource||(0,o.default)(r.GLOBAL_SELECTORS.content,e.root),s=i.scrollToTarget||(0,o.default)("html,body");s.animate({scrollTop:n.offset().top})}}),t.events.on("select-tab",function(e){t.selectTab(e)})],e.widgetReady=!1,e.widgetReference=t.reference,e.selectedFeature=null,e.on("mount",function(){t.selectDefaultTab(e.config.merchantFeedbackType),"function"==typeof e.opts.onMount&&e.opts.onMount({widgetReference:t.reference}),e.widgetReady=!1,e.update(),e.config.isTypeFloating||e.config.isTypeCarousel||t.listenForWindowResize();t.fetchTranslations(function(){!function(i,n){n="function"==typeof n?n:function(){};var o=t.config.get("isModeService"),s=t.config.get("isModeProduct");e.config.isTypeFacebook?(t.config.set("isModeService",!0),t.config.set("isModeProduct",!1,!0),t.fetchSummary(e,i,function(){t.config.set("isModeService",!1),t.config.set("isModeProduct",!0,!0),t.fetchSummary(e,i,function(){t.config.set("isModeService",o),t.config.set("isModeProduct",s,!0),n()})})):e.config.isTypeOnpage&&e.config.isModeProduct?(t.setSummary(e),n()):t.fetchSummary(e,i,n)}(null,function(){t.fetchReviews(e,null,i),t.fetchReviewsCarousel(e,null,e.update),t.fetchMediaPrepare(e,e.update)}),e.update()})}),e.on("unmount",function(){t.detachEvents()})})},,,,,,,,,,,function(e,t,i){"use strict";var n=i(1),o=m(i(5)),s=i(73),a=m(i(428));i(426),i(425),i(421),i(410),i(365),i(362),i(156),i(357),i(354),i(155),i(349),i(154),i(324),i(321),i(317),i(303);var r=m(i(20)),d=m(i(2)),c=m(i(17)),f=m(i(16)),l=m(i(178)),u=m(i(10)),g=m(i(30)),h=m(i(152)),p=m(i(91)),w=m(i(27));function m(e){return e&&e.__esModule?e:{default:e}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){var e=this;this.configInstance=d.default.init(this),this.configInstance=d.default.setReference(this.opts.widgetReference,this.configInstance),this.mixin(b.prototype),this.mixin(p.default),this.mixin(g.default),this.reviewsContainerSelector=s.GLOBAL_SELECTORS.reviewsContainer,this.$window=(0,o.default)(window),this.currentlyPaging=!1,this.filtering={callback:function(t){e.filteringCallback(t)},enabledOptions:r.default.resolve().FILTERING_ENABLED_OPTIONS,ratings:r.default.resolve().DEFAULT_FILTERING},this.fbTab="service",this.logger=new f.default(this.root.localName),this.pagination={callback:function(t,i){e.paginationCallback(t,i)},currentPage:r.default.resolve().DEFAULT_PAGE_NUMBER,noPages:0,pageSize:r.default.resolve().DEFAULT_PAGE_SIZE},this.mediaService={},this.mobileVersion=this._isViewportTabletMobile(),this.tabletVersion=this._isViewportTablet(),this.productAttributes={data:[],loading:!0,show:!1},this.ratingsOverlayOptions={left:400,top:200,arrowPosition:1500,show:!0,height:700,width:400},this.reviews={data:[],loading:!0,show:!1},this.sorting={callback:function(t){e.sortingCallback(t)},type:r.default.resolve().DEFAULT_SORTING},this.summary={data:{_transformed:{},merchant:{}},loading:!0,show:!1},this.summaryDistinct={product:{data:{_transformed:{},merchant:{}},loading:!0,show:!1},service:{data:{_transformed:{},merchant:{}},loading:!0,show:!1}},this.widgetReference=null,this.customReviewLink=this._customReviewLink(),this._scrollTargetHandler=this._lazyLoadHandler.bind(this),this.isMobileView=this.opts.integrationType&&"floating-service"===this.opts.integrationType,this.on("mount",this._onMount),this.on("unmount",this._onUnmount),this.trackingRoot(this.configInstance),this.networkTracking=new h.default(function(t){e.track(t)},this.configInstance),this._trackExternalCta()}Object.assign(b.prototype,w.default.prototype,{trackLogoClick:function(){this.track({event:"click",elementName:"logo"})},trackAllReviewsClick:function(){this.track({event:"click",elementName:"all_reviews"})},_trackExternalCta:function(){if(this.configInstance.data.externalCta){var e=(0,o.default)(this.configInstance.data.externalCta),t=function(){try{this.track({event:"buy"})}catch(e){this.logger.debug("external CTA tracking failed:",e)}}.bind(this);e.each(function(e,i){var n=(0,o.default)(i);n.attr("data-feefo-tracking")||n.click(t).attr("data-feefo-tracking",!0)})}},getWidgetStyle:function(){var e=this.config;return!e.isTypeFloating&&e.isViewportDesktop?"desktop":e.isTypeOnpage&&!e.isViewportDesktop?"accordion":!e.isTypeOnpage&&!e.isViewportDesktop||e.isTypeFloating?"tabs":void 0},_buildRichSnippet:function(){var e;this.config.isTypeOnpage&&this.config.isModeService&&(this.config.isModeService&&(e=l.default.buildRichServiceSchemaObject({merchant:this.summary.data.merchant,rating:this.summary.data._transformed,config:this.config})),u.default.mountRichData(e,this.root,!1,this.config.schemaId))},getReviewUrl:function(){return this.config.isModeProduct&&this.summary.data.merchant.review_url},_bindLazyLoadScroll:function(){this._toggleLazyLoad(!0)},_unbindLazyLoadScroll:function(){this._toggleLazyLoad(!1)},_lazyLoadHandler:function(){var e=(0,o.default)(this.scrollTarget),t=this.pagination.currentPage<this.pagination.noPages;e.scrollTop()+e.innerHeight()>=this.scrollTarget.scrollHeight-20&&t&&!this.currentlyPaging&&(this.currentlyPaging=!0,this.paginationCallback(this.pagination.currentPage+1,{silent:!0}))},_isViewportTabletMobile:function(){return Boolean(this.$window.width()<this.config.breakpoints.tablet)},_isViewportTablet:function(){var e=this.$window.width(),t=this.config.breakpoints.tablet,i=this.config.breakpoints.desktop;return Boolean(e>=t&&e<i)},_toggleLazyLoad:function(e){this.scrollTarget=this.root.querySelector(s.GLOBAL_SELECTORS.reviewsContainer),this.scrollTarget&&e?this.scrollTarget.addEventListener("scroll",this._scrollTargetHandler):this.scrollTarget&&!e&&this.scrollTarget.removeEventListener("scroll",this._scrollTargetHandler)},_translateNodes:function(){w.default.call(this,this.config.translations.nodes);var e={verified:{classes:s.PAGE_SELECTORS.readAllVerifiedReviews,text:this.getNode("node_readAllVerifiedReviews")},reviews:{classes:s.PAGE_SELECTORS.readAllReviews,text:this.getNode("node_readAllReviews")},tagline:{classes:s.PAGE_SELECTORS.tagLine,text:this.getNode("node_independentCustomerFeedback")}};this.insertNode(e.verified),this.insertNode(e.reviews),this.insertNode(e.tagline)},_onMount:function(){this._postMountSetup(),this.update(),this._buildRichSnippet(),this.eventsInstance.broadcast("fetch-media"),this._translateNodes(),this.root.appendChild(document.createComment(" Frontend version: ".concat("6.29.0"," ")))},_onSelectedTab:function(){this.pagination.currentPage=1,this.pagination.noPages=0,this.update(),this.eventsInstance.broadcast("fetch-reviews",{filtering:this.filtering.ratings,pagination:{currentPage:this.pagination.currentPage,pageSize:this.pagination.pageSize},scrollToSource:this.config.isTypeLightbox?(0,o.default)(s.GLOBAL_SELECTORS.content,s.PAGE_SELECTORS.modalContainer):null,scrollToTarget:this.config.isTypeLightbox?(0,o.default)(s.PAGE_SELECTORS.modalContainer):null,scrollToTop:!this.config.isTypeFloating&&!this.config.isTypeCarousel&&!this.config.isTypeMediaIntegration,sorting:this.sorting.type,summary:this.summary.data}),this.eventsInstance.broadcast("fetch-media")},_onUnmount:function(){this.eventPromises.forEach(function(e){"function"==typeof e&&e()})},_onUpdateAttributes:function(){this._setDisplayAttributes(!0),this.update()},_onUpdateReviews:function(){this._setDisplayReviews(!0),this.update()},_onUpdateExistSummary:function(){this._onUpdateSummary(this.summary)},_onUpdateSummary:function(e){e=e||this.summary,this._setDisplaySummary(e,!0),this.update()},_onUpdateSummaryProduct:function(){this.logger.debug("Updating product summary..."),this._onUpdateSummary(this.summaryDistinct.product)},_onUpdateSummaryService:function(){this.logger.debug("Updating service summary..."),this._onUpdateSummary(this.summaryDistinct.service)},_onUpdatedAttributes:function(e){this.productAttributes.data=e,this.logger.debug("Fetched attributes: ",this.productAttributes.data),this._setDisplayAttributes(!1),this.update()},_onUpdateMedia:function(e){this.mediaService=e,this.update()},_onUpdatedReviews:function(e){if(e.reviews.length){var t=e.reviews.map(function(e){return l.default.buildReviewSchemaObject(e._transformed)});u.default.updateRichData(this.config.schemaId,{review:t})}this.logger.debug("Fetched reviews: ",e),this.reviews.data=this.config.isTypeFloating&&e.isPaging?this.reviews.data.concat(e.reviews):e.reviews,this._setReviewMetadata(e)},_setReviewMetadata:function(e){this.pagination.currentPage=e.pagination.currentPage,this.pagination.noPages=e.pagination.noPages,this.config.isTypeCarousel?this.verifiedReviewsCount=e.reviewCount||0:this.verifiedReviewsCount=e.verifiedReviewsCount||0,this.importedReviewsCount=e.importedReviewsCount||0,this.logger.debug("Fetched reviews: ",this.reviews.data),this._setDisplayReviews(!1),this.networkTracking.setReviews(e),this.update(),this.currentlyPaging=!1},canShowHeader:function(){return Boolean(this.importedReviewsCount||this.verifiedReviewsCount)},_onUpdatedExistSummary:function(e){this._onUpdatedSummary(this.summary,e)},_onUpdatedSummary:function(e,t){this.logger.debug("Fetched summary: ",t),(e=e||this.summary).data=t,this._setDisplaySummary(e,!1),this._setFilteringEnabledOptions(e),this.networkTracking.setSummary(t),this.update({summary:e})},_onUpdatedSummaryProduct:function(e){this.logger.debug("Fetched product summary..."),this._onUpdatedSummary(this.summaryDistinct.product,e)},_onUpdatedSummaryService:function(e){this.logger.debug("Fetched service summary..."),this._onUpdatedSummary(this.summaryDistinct.service,e)},_getEvents:function(e){var t=function(e){return function(t){return e(t)}};return[e.on("bind-lazyload",t(this._bindLazyLoadScroll)),e.on("unbind-lazyload",t(this._unbindLazyLoadScroll)),e.on("selected-tab",t(this._onSelectedTab)),e.on("update-attributes",t(this._onUpdateAttributes)),e.on("updated-attributes",t(this._onUpdatedAttributes),!0),e.on("update-reviews",t(this._onUpdateReviews)),e.on("updated-reviews",t(this._onUpdatedReviews),!0),e.on("update-summary",t(this._onUpdateExistSummary)),e.on("updated-summary",t(this._onUpdatedExistSummary),!0),e.on("update-summary-product",t(this._onUpdateSummaryProduct)),e.on("updated-summary-product",t(this._onUpdatedSummaryProduct),!0),e.on("update-summary-service",t(this._onUpdateSummaryService)),e.on("updated-summary-service",t(this._onUpdatedSummaryService),!0),e.on("update-media",t(this._onUpdateMedia),!0),e.on("updated-media",t(this._onUpdateMedia),!0)]},_postMountSetup:function(){this.configInstance.listen(this),this.eventsInstance=c.default.getInstance(this.opts.widgetReference),this.eventPromises=this._getEvents(this.eventsInstance),this.widgetReference=this.opts.widgetReference,this.opts.showReviewsList=void 0===this.opts.showReviewsList||this.opts.showReviewsList},_isShowAttribute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(t){return e.preferences[t].attributeRatingPanel};return e.isTypeOnpage?t("productOnPage"):e.isTypeLightbox?t("productWidget"):e.isTypeFacebook?t("facebookWidget"):void 0},_setDisplayAttributes:function(e){var t;this.config.isModeProduct&&(!0===e&&(this.productAttributes.data=[]),t=this._isShowAttribute(this.config),this.productAttributes.loading=e,this.productAttributes.show=Boolean(!e&&this.productAttributes.data.length&&t),this.logger.trace('Set display of product attributes. Loading "'+this.productAttributes.loading+'", Show: "'+this.productAttributes.show+'".'))},_setDisplayReviews:function(e){this.reviews.loading=e,this.reviews.show=Boolean(!e&&this.reviews.data.length)},onSentisumLoading:function(e){var t=this;this.sentisumLoading=Boolean(e),window.setTimeout(function(){t.update()},100)},_setDisplaySummary:function(e,t){!0===t&&(e.data={}),e.loading=t,e.show=Boolean(!e.loading&&"object"===v(e.data.merchant))},_setFilteringEnabledOptions:function(e){var t=this;Object.keys(this.filtering.enabledOptions).forEach(function(i){"all"!==i&&(t.filtering.enabledOptions[i]=Boolean(e.data._transformed.ratingsDetailed[i]))})},filteringCallback:function(e){this.logger.trace("filtering changed to: ",e),this.filtering.ratings=e,this.pagination.currentPage=1,this.pagination.noPages=0,this.eventsInstance.broadcast("fetch-reviews",{filtering:this.filtering.ratings,pagination:{currentPage:this.pagination.currentPage,pageSize:this.pagination.pageSize},scrollToSource:this.config.isTypeLightbox?(0,o.default)(s.GLOBAL_SELECTORS.content,s.PAGE_SELECTORS.modalContainer):null,scrollToTarget:this.config.isTypeLightbox?(0,o.default)(s.PAGE_SELECTORS.modalContainer):null,scrollToTop:!this.config.isTypeFloating&&!this.config.isTypeCarousel&&!this.config.isTypeMediaIntegration,sorting:this.sorting.type,summary:this.summary.data}),this.networkTracking.useScoreFilter(e)},paginationCallback:function(e,t){this.logger.trace("pagination changed to: ",e),this.pagination.currentPage=e,t=t||{},this.eventsInstance.broadcast("fetch-reviews",{filtering:this.filtering.ratings,pagination:{currentPage:this.pagination.currentPage,pageSize:this.pagination.pageSize},scrollToSource:this.config.isTypeLightbox?(0,o.default)(s.GLOBAL_SELECTORS.content,s.PAGE_SELECTORS.modalContainer):null,scrollToTarget:this.config.isTypeLightbox?(0,o.default)(s.PAGE_SELECTORS.modalContainer):null,scrollToTop:!this.config.isTypeFloating&&!this.config.isTypeCarousel&&!this.config.isTypeMediaIntegration,sorting:this.sorting.type,summary:this.summary.data,isPaging:!0}),t.silent||this.track({event:"click",elementName:"pagination"})},selectFbTab:function(e){this.config.isTypeFacebook&&(this.fbTab=e,this.config.mountMode=e,this.eventsInstance.broadcast("select-tab",e))},sortingCallback:function(e){this.logger.trace("sorting changed to: ",e),this.sorting.type=e,this.pagination.currentPage=1,this.pagination.noPages=0,this.eventsInstance.broadcast("fetch-reviews",{filtering:this.filtering.ratings,pagination:{currentPage:this.pagination.currentPage,pageSize:this.pagination.pageSize},scrollToSource:this.config.isTypeLightbox?(0,o.default)(s.GLOBAL_SELECTORS.content,s.PAGE_SELECTORS.modalContainer):null,scrollToTarget:this.config.isTypeLightbox?(0,o.default)(s.PAGE_SELECTORS.modalContainer):null,scrollToTop:!this.config.isTypeFloating&&!this.config.isTypeCarousel&&!this.config.isTypeMediaIntegration,sorting:this.sorting.type,summary:this.summary.data})},_customReviewLink:function(){var e=this.opts.integrationType;if(Boolean(e&&e.toLowerCase().indexOf("service")+1))return this.config.preferences.serviceReadAllUrl}}),(0,n.tag)("feefowidget-global",a.default,null,b)},function(e,t,i){"use strict";var n=f(i(5)),o=f(i(165)),s=i(1),a=f(i(20)),r=f(i(2)),d=f(i(10)),c=f(i(368));function f(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i(366);function u(){this.mixin(u.prototype),this.configInstance=r.default.init(this),this.common=a.default.resolve(),this.component=null,this.instance=null,this.referenceModal="modal-"+d.default.generateUUID(),this.modalReady=!1,this.widgetReference=null,this._onCloseClick=this._onCloseClick.bind(this),this._onDocumentClick=this._onDocumentClick.bind(this),this.documentElement=(0,n.default)(document),this.on("mount",this._onMount),this.on("unmount",this._onUnmount),this.on("update",this._onUpdate)}Object.assign(u.prototype,{_componentAttach:function(){if(null===this.component){var e=(0,n.default)(this.opts.renderTag,this.instance.element);if(e.length){-1===this.config.modalsOpened.indexOf(this.referenceModal)&&(this.config.modalsOpened.push(this.referenceModal),this.configInstance.set("modalsOpened",this.config.modalsOpened));var t="object"===l(this.opts.renderData)?this.opts.renderData:{};t.mountConfig=this.opts.mountConfig,t.widgetReference=this.opts.widgetReference,t.trackClick=this.opts.trackClick,t.onCloseModal=this._onCloseClick,this.component=(0,s.mount)(e,this.opts.renderTag,t)[0]}}},_componentDetach:function(){if(null!==this.component){this.component.unmount(),this.component=null;var e=this.config.modalsOpened.indexOf(this.referenceModal);e>-1&&(this.config.modalsOpened.splice(e,1),this.configInstance.set("modalsOpened",this.config.modalsOpened))}},_createContainerElement:function(){var e=(0,n.default)(document.createElement("div")),t=this.opts.modalClass?" "+this.opts.modalClass:"";e.attr("class","feefowidget-window-modal-container tether-theme-feefo"+t);var i=(0,n.default)(document.createElement("div")),o="feefowidget-window-modal-content";return o+=this.config.isTableOrMobile?" feefowidget-no-border":"",i.addClass(o),e.append(i),i.html((0,n.default)(".feefowidget-window-modal-hidden-content",this.root).html()),i.append("<"+this.opts.renderTag+">"),(0,n.default)(this.root).append(e),(0,n.default)(".feefowidget-window-modal-container",this.root)},_eventListenersDeregister:function(){null!==this.instance&&((0,n.default)("div.feefowidget-close-button",this.instance.element).off("click."+this.referenceModal,this._onCloseClick),this.documentElement.off("click."+this.referenceModal,this._onDocumentClick))},_eventListenersRegister:function(){null!==this.instance&&((0,n.default)("div.feefowidget-close-button",this.instance.element).on("click."+this.referenceModal,this._onCloseClick),this.documentElement.on("click."+this.referenceModal,this._onDocumentClick))},_modalAttach:function(){var e=this;if(null===this.instance&&(this.referenceContainer=this._createContainerElement(),this.referenceContainer.length)){this.referenceContainer.on("click",function(t){e.opts.trackClick&&e.opts.trackClick(t)});var t={attachment:"top center",classes:{target:"feefowidget-tether-target"},element:this.referenceContainer,offset:"10px 0px",optimizations:{gpu:!0},target:document.body,targetAttachment:"top center",targetOffset:"0px"};this.instance=new o.default(t),this._componentAttach(),setTimeout(function(){return e._eventListenersRegister()},100),"object"!==l(this.opts.renderData)||this.opts.renderData.modalInstance||(this.opts.renderData.modalInstance=this.instance,this.update(),"function"==typeof this.opts.renderData.modalAttached&&this.opts.renderData.modalAttached())}},_modalDetach:function(e){null!==this.instance&&(this._eventListenersDeregister(),(0,n.default)(this.instance.element).remove(),this.instance.destroy(),this.instance=null,this._componentDetach(),e||"object"!==l(this.opts.renderData)||(delete this.opts.renderData.modalInstance,this.update()))},_modalPosition:function(){var e=this;null!==this.instance&&(this.instance.position(),setTimeout(function(){return e._viewportAttach()},50))},_onCloseClick:function(e){e.preventDefault(),this.opts.showModal&&("function"==typeof this.opts.closeModal&&(e.stopPropagation(),this.opts.closeModal()),this._modalDetach())},_onDocumentClick:function(e){if(null!==this.instance&&!(0,n.default)(this.instance.element).find(e.target).length){e.preventDefault();var t=this.config.modalsOpened;t.length&&t[t.length-1]!==this.referenceModal||this._onCloseClick(e)}},_onMount:function(){this._postMountSetup(),this.update()},_onUnmount:function(){this._modalDetach(!0)},_onUpdate:function(){!0===this.opts.showModal?("object"!==l(this.opts.renderData)||this.opts.renderData.modalAttach||this.opts.renderData.modalDetach||(this.opts.renderData.modalAttach=this._modalAttach.bind(this),this.opts.renderData.modalDetach=this._modalDetach.bind(this),this.update()),this._modalAttach(),this._modalPosition()):this._modalDetach()},_postMountSetup:function(){"object"===l(this.opts.renderData)&&(this.configInstance=r.default.setReference(this.opts.renderData.widgetReference,this.configInstance),this.configInstance.listen(this),this.widgetReference=this.opts.renderData.widgetReference)},_viewportAttach:function(){if(null!==this.instance){var e=(0,n.default)(this.instance.element);if(e.length){var t=this.configInstance.viewportClasses(),i=e.attr("class");this.common.VIEWPORT_CLASSES.forEach(function(e){i=i.replace(e,"")}),i.trim(),i+=" "+t,e.attr("class",i)}}}}),(0,s.tag)("feefowidget-window-modal",c.default,null,u)},,,,,,,,,,,,,,,,function(e,t,i){"use strict";var n=i(1),o=r(i(2)),s=r(i(30)),a=r(i(390));function r(e){return e&&e.__esModule?e:{default:e}}i(389);var d=["small","big"];function c(){this.mixin(c.prototype),this.configInstance=o.default.init(this),this.containerClass="",this.index=0,this.src="",this.type="image",this.widgetReference=null,this.mixin(s.default),this.on("mount",this._onMount)}Object.assign(c.prototype,{_onMount:function(){this._postMountSetup(),this.mediaSize=this.opts.size&&d.includes(this.opts.size)?this.opts.size:"big",this.update()},_postMountSetup:function(){this.configInstance=o.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this.index="number"==typeof this.opts.index?this.opts.index:this.index,"number"==typeof this.opts.more&&(this.more=this.opts.more),this.src=this.opts.src||this.src,this.type=this.opts.type||this.type,this.widgetReference=this.opts.widgetReference},onItemClick:function(){"function"==typeof this.opts.onClick&&this.opts.onClick(this.opts.index),this.track({event:"click",elementName:"image-grid-thumbnail"})}}),(0,n.tag)("feefowidget-product-media-item",a.default,null,c)},,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var n=i(3);e.exports={init:function(){this.on("updated",this.modifyLinkTags)},modifyLinkTags:function(){for(var e=this.root.querySelectorAll("a[data-feefowidget-nofollow]"),t=0;t<e.length;t+=1){var i=e[t];if(n.getConfig().noFollowFeefo){var o=(i.getAttribute("rel")||"").split(" ").filter(function(e){return e});o.push("nofollow"),o.length>1?i.setAttribute("rel",o.join(" ")):i.setAttribute("rel",o)}i.removeAttribute("data-feefowidget-nofollow")}}}},,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(i(3)),o=r(i(36)),s=r(i(104)),a=r(i(10));function r(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c="helpful_uuid",f="problem_uuid",l="x-helpful-uuid",u="x-problem-uuid",g=new o.default;t.default={flagProblem:function(e,t){t="function"==typeof t?t:a.default.noop,e="object"===d(e)?e:{};var i=null,o=n.default.getConfig().merchantSlug+"."+f,r=s.default.getStorage(o);e.origin=a.default.getOrigin(),r&&((i={})[u]=r),g.get("/flag-problem",{headers:i,query:e},function(e,i){if(null!==e)return a.default.applyMethod(t,this,arguments);var n=i.xhr.getResponseHeader(u);return s.default.supportsLocalStorage()&&n&&s.default.setStorage(o,n),a.default.applyMethod(t,this,arguments)})},rateHelpful:function(e,t){t="function"==typeof t?t:a.default.noop,e="object"===d(e)?e:{};var i=null,o=n.default.getConfig().merchantSlug+"."+c,r=s.default.getStorage(o);e.origin=a.default.getOrigin(),r&&((i={})[l]=r),g.get("/rate-helpful",{headers:i,query:e},function(e,i){if(null!==e)return a.default.applyMethod(t,this,arguments);var n=i.xhr.getResponseHeader(l);return s.default.supportsLocalStorage()&&n&&s.default.setStorage(o,n),a.default.applyMethod(t,this,arguments)})}}},function(e,t,i){"use strict";var n=i(1),o=f(i(29)),s=f(i(388));i(387),i(101),i(100),i(386);var a=f(i(2)),r=f(i(60)),d=f(i(145)),c=f(i(95));function f(e){return e&&e.__esModule?e:{default:e}}function l(){this.mixin(l.prototype),this.mixin(d.default.prototype),this.addSwipe(this.root);var e=a.default.init(this);(e=a.default.setReference(this.opts.widgetReference,e)).listen(this),this.selectedItem=r.default.mediaItem(this.config,this.opts.media[this.opts.index]),this.widgetReference=null,this.showHeader=!1,this.onPrevious=this.onPrevious.bind(this),this.onNext=this.onNext.bind(this),this.on("mount",this._onMount),this.on("unmount",this._onUnMount),this.on("update",this._onUpdate)}Object.assign(l.prototype,d.default.prototype,{_onMount:function(){this.widgetReference=this.opts.widgetReference,this.customerName=(0,o.default)(this.selectedItem._tModal.customerName||""),this.showHeader=this.config.isModeProduct,this.update()},_onUnMount:function(){this.removeSwipeListeners()},_onUpdate:function(){var e=Boolean(this.opts.media instanceof Array),t=Boolean(e&&this.opts.media.length>this.opts.index);this.selectedItem=t?this.opts.media[this.opts.index]:{}},flagMediaProblem:function(e){var t={id:this.selectedItem._tModal.saleId,feedbackId:this.selectedItem._tModal.feedbackId,resourceId:this.selectedItem._tModal.resourceId,reason:e};this.selectedItem._tModal.flaggedReason=e,c.default.flagProblem(t),this.update()},_updateVoteNumber:function(e,t){return e+=t?-1:1,Math.max(e,0)},rateMediaHelpful:function(){var e=this.selectedItem._tModal,t={id:e.saleId,feedbackId:e.feedbackId,resourceId:e.resourceId};this.selectedItem._tModal.helpfulVotes=this._updateVoteNumber(e.helpfulVotes,e.alreadyVoted),this.selectedItem._tModal.alreadyVoted=!e.alreadyVoted,c.default.rateHelpful(t)},onNext:function(e){e&&(e.preventDefault(),e.stopPropagation(),"function"==typeof this.opts.setMediaIndex&&this.opts.index<this.opts.media.length-1&&(this.opts.index+=1,this.opts.setMediaIndex(this.opts.index),this.update()))},onPrevious:function(e){e&&(e.preventDefault(),e.stopPropagation(),"function"==typeof this.opts.setMediaIndex&&this.opts.index>0&&(this.opts.index-=1,this.opts.setMediaIndex(this.opts.index),this.update()))},closeModal:function(e){"function"==typeof this.opts.onCloseModal&&(this.opts.onCloseModal(e),this.update())},swipeTo:function(e,t){switch(e){case"top-bottom":return this.closeModal(t);case"left":return this.onPrevious(t);case"right":return this.onNext(t);default:return console.error("feefowidget-product-media-modal: ","incorrect swipe direction")}}}),(0,n.tag)("feefowidget-product-media-modal",s.default,null,l)},function(e,t,i){"use strict";var n=i(1),o=a(i(20)),s=a(i(392));function a(e){return e&&e.__esModule?e:{default:e}}function r(){this.mixin(r.prototype),this.color="",this.sectionWidths=o.default.resolve().ATTRIBUTES_SECTION_WIDTHS,this.on("mount",this._onMount)}i(391),Object.assign(r.prototype,{_onMount:function(){this._setColor(),this._setSectionWidths(),this.update()},_setColor:function(){this.opts.item.rating<=2?this.color="feefowidget-low-score":this.opts.item.rating<=3?this.color="feefowidget-medium-score":this.opts.item.rating>3&&(this.color="feefowidget-high-score")},_setSectionWidths:function(){for(var e=0,t=100*this.opts.item.rating,i=o.default.resolve().ATTRIBUTES_SECTION_WIDTHS;t>0;){var n=t-100;n=n<0?t:100,t-=100,i[e]=n,e+=1}this.sectionWidths=i}}),(0,n.tag)("feefowidget-product-attributes-item",s.default,null,r)},function(e,t,i){"use strict";var n=i(1);i(402);var o,s=i(99),a=(o=s)&&o.__esModule?o:{default:o};(0,n.tag)("feefowidget-feature-highlighter",void 0,null,function(){this.on("mount",function(){this.root.innerHTML=a.default.highlightWords(this.opts.text)})})},function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.words=[]}var t,i,o;return t=e,(i=[{key:"highlightWords",value:function(e){return this.words.length?e?e.replace(new RegExp(this.words.join("|"),"ig"),function(e){return'<em class="feature-highlight">'.concat(e,"</em>")}):"":e}},{key:"setWords",value:function(e){this.words=(Array.isArray(e)?e:[e]).slice()}}])&&n(t.prototype,i),o&&n(t,o),e}();e.exports=new o},function(e,t,i){"use strict";var n=i(1),o=r(i(405));i(404);var s=r(i(2)),a=r(i(30));function r(e){return e&&e.__esModule?e:{default:e}}function d(){this.mixin(d.prototype),this.mixin(a.default),this.buttonsShown=!1,this.widgetReference=null,this.configInstance=s.default.init(this),this.on("mount",this._onMount)}Object.assign(d.prototype,{_onMount:function(){this.configInstance=s.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this.widgetReference=this.opts.widgetReference,this.update()},openSharePopupWindow:function(e){var t,i=e.currentTarget.getAttribute("data-share-type"),n=window.open("","_blank","width=320,height=320,centerscreen,chrome=yes");n&&("facebook"===i?t=this.opts.urlFacebook:"twitter"===i&&(t=this.opts.urlTwitter),t&&(n.location.href=t))},toggleButtons:function(){this.buttonsShown=!this.buttonsShown,this.buttonsShown&&this.track({event:"click",elementName:"share"})}}),(0,n.tag)("feefowidget-button-sharing",o.default,null,d)},function(e,t,i){"use strict";var n=i(1),o=r(i(2)),s=r(i(30)),a=r(i(407));function r(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){this.mixin(c.prototype),this.mixin(s.default),this.tooltip=null,this.widgetReference=null,this.configInstance=o.default.init(this),this.on("mount",this._onMount),this.on("update",this._onUpdate)}i(406),Object.assign(c.prototype,{_onMount:function(){this.configInstance=o.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this.widgetReference=this.opts.widgetReference,this.update()},_onUpdate:function(){this.tooltip=this.createTooltip()},onClick:function(){"function"==typeof this.opts.onChange&&this.opts.onChange(),this.track({event:"click",elementName:"helpful-vote"})},createTooltip:function(){return d(this.config.translations.nodes),""}}),(0,n.tag)("feefowidget-button-helpful",a.default,null,c)},function(e,t,i){"use strict";e.exports={setMedia:function(){var e=function(e,t){return e&&e.length?(t=t||3,e.length>t&&(i=e.length-t,e=e.slice(0,t)),{media:e,hiddenMediaCount:i}):{media:e};var i}((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mediaItems,arguments.length>1?arguments[1]:void 0),t=e.media,i=e.hiddenMediaCount;this.reviewMediaItems=t,this.hiddenMediaCount=i}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(i(1)),o=r(i(36)),s=r(i(104)),a=r(i(3));function r(e){return e&&e.__esModule?e:{default:e}}var d=new o.default;function c(e){var t=a.default.getConfig();this.onLoading=e.onLoading||function(){},this.integrationType=e.integrationType,this.reviewUrl=e.reviewUrl,this.widgetIdentifier=e.widgetIdentifier||null,this.merchantIdentifier=t.merchantSlug,this.productSku=t.productSku,this.parentProductSku=t.parentProductSku,this.selectedFeature=null,this.displaySnippets=e.displaySnippets,this.tags=t.tags,n.default.observable(this)}c.prototype.getSnippets=function(){var e=this;if(this.snippetsPromise)return this.snippetsPromise;var t="/snippet/"+this.endpoints[this.integrationType],i={merchant_identifier:this.merchantIdentifier,product_sku:this.productSku,parent_product_sku:this.parentProductSku,tags:this.tags};return this.selectedFeature&&Array.isArray(this.selectedFeature.searchFeatures)&&(i.selected_feature=this.selectedFeature.searchFeatures.join()),this.widgetIdentifier&&(i.widget_identifier=this.widgetIdentifier),this.onLoading(!0),this.snippetsPromise=new Promise(function(n,o){d.get(t,{query:i},function(t,i){e.trigger("snippets"),e.onLoading(!1),!t||i&&i.data?n(i.data):o(t)})}),this.snippetsPromise},c.prototype.setFlag=function(e,t,i){var n="snippets-flag."+e,o="/flagbenefit/snippet/"+e+"/"+t;return s.default.supportsLocalStorage()&&s.default.setStorage(n,i),new Promise(function(e){d.post(o,{data:i,type:"json"},function(){e()})})},c.prototype.getFlag=function(e){var t="snippets-flag."+e.feedbackId;return s.default.getStorage(t)},c.prototype.getFeatures=function(){if(this.featuresRequest)return this.featuresRequest;var e="/feature/widget/"+this.endpoints[this.integrationType],t={merchant_identifier:this.merchantIdentifier,product_sku:this.productSku,parent_product_sku:this.parentProductSku,tags:this.tags};return this.widgetIdentifier&&(t.widget_identifier=this.widgetIdentifier),this.featuresRequest=new Promise(function(i,n){d.get(e,{query:t},function(e,t){!e||t&&t.data?i(t.data):n(e)})}),this.featuresRequest},c.prototype.setFeature=function(e){this.selectedFeature=e,this.displaySnippets&&(this.snippetsPromise=null,this.getSnippets(e)),this.trigger("feature",e)},c.prototype.websiteUrlFor=function(e,t){return this.reviewUrl+"/"+e+"/"+(t||"customer-review-")},c.prototype.endpoints={"lightbox-product":"product-javascript-lightbox","lightbox-service":"service-javascript-lightbox","onpage-product":"product-on-page-widget","onpage-service":"service-on-page-widget",topics:"topics-widget",snippets:"snippets-widget"},t.default=c},,,function(e,t,i){"use strict";var n=i(1),o=a(i(226)),s=a(i(225));function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var d,c,f=a(i(3)).default.getConfig().serviceAwardLevel;c=function(e){d=e},"TRUSTED"===f&&new Promise(function(e){i.e(19).then(function(t){e(i(231))}.bind(null,i)).catch(i.oe)}).then(c),"GOLD"===f&&new Promise(function(e){i.e(18).then(function(t){e(i(230))}.bind(null,i)).catch(i.oe)}).then(c),"PLATINUM"===f&&new Promise(function(e){i.e(17).then(function(t){e(i(229))}.bind(null,i)).catch(i.oe)}).then(c);var l={TRUSTED:{alt:"Feefo Trusted Service Award"},GOLD:{alt:"Feefo Gold Trusted Service Award"},PLATINUM:{alt:"Feefo Platinum Trusted Service Award"}};function u(){this.mixin(u.prototype),this.styles=s.default,this.on("update",this._updateClasses.bind(this)),this.image=l[f]||{},this.image.url=d,this._updateClasses()}Object.assign(u.prototype,{_updateClasses:function(){var e;this.imageClasses=(r(e={},s.default.image,!0),r(e,s.default["image--desktop"],!0===this.opts.isDesktop),r(e,s.default["image--auto"],void 0===this.opts.isDesktop),e)}}),(0,n.tag)("feefowidget-award-badge",o.default,null,u)},,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GLOBAL_EVENTS=void 0,t.default=o;var n=(0,i(1).observable)();t.GLOBAL_EVENTS={SELECT_FEATURE:"select-feature"};function o(){}Object.assign(o.prototype,{observer:n})},function(e,t,i){"use strict";var n=i(1),o=a(i(29)),s=a(i(372));function a(e){return e&&e.__esModule?e:{default:e}}function r(){this.mixin(r.prototype),this.on("update",this._injectMarkup),this.on("mount",this._injectMarkup)}Object.assign(r.prototype,{_injectMarkup:function(){this.root.innerHTML=(0,o.default)(this.opts.content)}}),(0,n.tag)("feefowidget-raw",s.default,r)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(){}Object.assign(n.prototype,{addSwipe:function(e){this.swipeSelector=e,this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._addSwipeListeners()},_getCoordinates:function(e){return{x:Number(e.clientX.toFixed()),y:Number(e.clientY.toFixed())}},_onStartSwipe:function(e,t){var i=t.x,n=t.y;e.stopPropagation(),this.xStart=i,this.yStart=n},_onMouseDown:function(e){this._onStartSwipe(e,this._getCoordinates(e))},_onTouchStart:function(e){var t=e.touches[0];this._onStartSwipe(e,this._getCoordinates(t))},_onMouseUp:function(e){this._onEndSwipe(e,this._getCoordinates(e))},_onTouchEnd:function(e){var t=e.changedTouches[0];this._onEndSwipe(e,this._getCoordinates(t))},_getDirection:function(e,t){var i=function(e){return"number"!=typeof e};if(!(i(e)||i(t)||i(this.xStart)||i(this.yStart))){var n=e-this.xStart,o=Math.abs(n),s=Math.abs(t-this.yStart);if(!(o<30&&s<30))return o>=s?n>0?"left":"right":"top-bottom"}},_onEndSwipe:function(e,t){var i=t.x,n=t.y;e.stopPropagation();var o=this._getDirection(i,n);delete this.xStart,delete this.yStart,o&&this.swipeTo(o,e)},_toggleSwipeListeners:function(e){var t=e?"addEventListener":"removeEventListener";this.swipeSelector[t]("mousedown",this._onMouseDown),this.swipeSelector[t]("touchstart",this._onTouchStart),this.swipeSelector[t]("mouseup",this._onMouseUp),this.swipeSelector[t]("touchend",this._onTouchEnd)},_addSwipeListeners:function(){this._toggleSwipeListeners(!0)},removeSwipeListeners:function(){this.swipeSelector&&this._toggleSwipeListeners(!1)}})},,,,,,,function(e,t,i){"use strict";function n(e,t){this.track=e,this.config=t}Object.defineProperty(t,"__esModule",{value:!0}),n.prototype.setSummary=function(e){var t=e.rating.product||e.rating.service,i=["count","1_star","2_star","3_star","4_star","5_star"];this.reviewCount=e.meta.count,this.score=e.rating.rating,this.scoreBreakdown=Object.keys(t).map(function(e){return{score:i.indexOf(e),count:t[e]}}).filter(function(e){return e.score>0}),this._trackInitialLoad()},n.prototype.setFeatures=function(e){this.features=e.features,this._trackInitialLoad()},n.prototype.setSnippets=function(e){this.snippets=e.snippets.map(function(e){return{snippet:e.text,polarity:"POSITIVE"}}),this._trackInitialLoad()},n.prototype.setReviews=function(e){return this.reviewCount=e.reviewCount,this.filterType?this._trackFilterResult():this.initialLoadDone?void this.track({event:"load_more",pageSize:e.reviews.length}):this._trackInitialLoad()},n.prototype.useScoreFilter=function(e){this._useFilter("SCORE",e)},n.prototype.useFeatureFilter=function(e){this._useFilter("FEATURE",e)},n.prototype._trackInitialLoad=function(){var e=!this.config.data.isTypeFloating&&this.config.data.showTopics,t=e&&this.config.data.showSnippets;this.initialLoadDone||void 0!==this.reviewCount&&void 0!==this.score&&void 0!==this.scoreBreakdown&&(e&&void 0===this.features||t&&void 0===this.snippets||(this.track({event:"loaded",features:this.features,snippets:this.snippets,feefoScoreBreakdown:this.scoreBreakdown,feefoScore:this.score,reviewCount:this.reviewCount}),this.initialLoadDone=!0))},n.prototype._useFilter=function(e,t){this.track({event:"filter",filteredOn:e,filterValue:t}),this.filterType=e},n.prototype._trackFilterResult=function(){this.track({event:"filter_result",filter:this.filterType,count:this.reviewCount}),delete this.filterType},t.default=n},,function(e,t,i){"use strict";var n=i(1),o=d(i(29)),s=d(i(346));i(345),i(344),i(327),i(136);var a=d(i(20)),r=d(i(2));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){this.mixin(f.prototype),this.configInstance=r.default.init(this),this.attributes=[],this.attributesShow=!1,this.headerImage="",this.headerImageService="",this.headerImageProduct="",this.headerTitle="",this.ratingsDetailed=a.default.resolve().RATINGS_DETAILED,this.ratingsDetailedService=a.default.resolve().RATINGS_DETAILED,this.ratingsDetailedProduct=a.default.resolve().RATINGS_DETAILED,this.ratingLabels={oneStar:"Star",twoOrThreeStars:"Stars",fourOrFiveStars:"Stars"},this.ratingsOverall=0,this.ratingsOverallService=0,this.ratingsOverallProduct=0,this.reviewsTotal=0,this.importedReviewsTotal=0,this.verifiedReviewsTotal=0,this.reviewsTotalService=0,this.reviewsTotalProduct=0,this.showTitle=!0,this.verifiedReviewsTranslation={defaultMode:"",importedMode:""},this.headerTitleReviewsMode=this.config.displayImportedReviews?"importedMode":"defaultMode",this.widgetLoaded=!1,this.widgetReference=null,this.on("mount",this._onMount)}Object.assign(f.prototype,{_configureLabels:function(){var e=this.config.translations.nodes;"object"===c(e)&&(this.ratingLabels.oneStar=e.node_oneStar||this.ratingLabels.oneStar,this.ratingLabels.twoOrThreeStars=e.node_twoOrThreeStars||this.ratingLabels.oneStar,this.ratingLabels.fourOrFiveStars=e.node_fourOrFiveStars||this.ratingLabels.fourOrFiveStars,this.config.displayImportedReviews&&(1===this.opts.reviewsTotal&&1!==this.opts.verifiedReviewsTotal&&this._translateNode(e.node_feedbackBasedOn1ReviewAndNVerified),1!==this.opts.reviewsTotal&&1===this.opts.verifiedReviewsTotal&&this._translateNode(e.node_feedbackBasedOnNReviewAnd1Verified),1!==this.opts.reviewsTotal&&1!==this.opts.verifiedReviewsTotal&&this._translateNode(e.node_feedbackBasedOnNReviewsAndNVerified),1===this.opts.reviewsTotal&&1===this.opts.verifiedReviewsTotal&&this._translateNode(e.node_feedbackBasedOn1ReviewAnd1Verified)),this.config.displayImportedReviews||(1===this.reviewsTotal?this._translateNode(e.node_independentOneFeedback):this._translateNode(e.node_independentFeedback)))},_translateNode:function(e){var t=(0,o.default)(e);t&&(t.includes("{{NumberOfFeefoReviews}}")&&(t=t.replace("{{NumberOfFeefoReviews}}",this.verifiedReviewsTotal)),t.includes("{{NumberOfReviews}}")&&(t=t.replace("{{NumberOfReviews}}",this.reviewsTotal)),t.includes("{{number}}")?this.verifiedReviewsTranslation.defaultMode=t.replace("{{number}}",this.reviewsTotal):this.verifiedReviewsTranslation.importedMode=t)},_onMount:function(){this._postMountSetup(),this._configureLabels(),this.widgetLoaded=!0,this.update()},_postMountSetup:function(){this.configInstance=r.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this.attributes=this.opts.attributes?this.opts.attributes:this.attributes,this.attributesShow="boolean"==typeof this.opts.attributesShow?this.opts.attributesShow:this.attributesShow,this.headerImage=this.opts.headerImage?this.opts.headerImage:this.headerImage,this.headerTitle=this.opts.headerTitle?this.opts.headerTitle:this.headerTitle,this.showTitle=!(this.config.isTypeFloating&&this.config.isModeService),this.ratingsDetailed=this.opts.ratingsDetailed?this.opts.ratingsDetailed:this.ratingsDetailed,this.ratingsDetailedService=this.opts.ratingsDetailedService?this.opts.ratingsDetailedService:this.ratingsDetailedService,this.ratingsDetailedProduct=this.opts.ratingsDetailedProduct?this.opts.ratingsDetailedProduct:this.ratingsDetailedProduct,this.ratingsOverall=this.opts.ratingsOverall?this.opts.ratingsOverall:this.ratingsOverall,this.ratingsOverallService=this.opts.ratingsOverallService?this.opts.ratingsOverallService:this.ratingsOverallService,this.ratingsOverallProduct=this.opts.ratingsOverallProduct?this.opts.ratingsOverallProduct:this.ratingsOverallProduct,this.reviewsTotal=this.opts.reviewsTotal?this.opts.reviewsTotal:this.reviewsTotal,this.importedReviewsTotal=this.opts.importedReviewsTotal?this.opts.importedReviewsTotal:this.importedReviewsTotal,this.verifiedReviewsTotal=this.opts.verifiedReviewsTotal?this.opts.verifiedReviewsTotal:this.verifiedReviewsTotal,this.reviewsTotalService=this.opts.reviewsTotalService?this.opts.reviewsTotalService:this.reviewsTotalService,this.reviewsTotalProduct=this.opts.reviewsTotalProduct?this.opts.reviewsTotalProduct:this.reviewsTotalProduct,this.widgetReference=this.opts.widgetReference,this.ratingSettings={ratingsOverall:this.ratingsOverall,ratingsDetailed:this.ratingsDetailed,ratingLabels:this.ratingLabels,attributesShow:this.attributesShow},this.config.isTypeFacebook&&(this.ratingSettings.ratingsOverall="service"===this.opts.mode?this.ratingsOverallService:this.ratingsOverallProduct,this.reviewsTotal="service"===this.opts.mode?this.reviewsTotalService:this.reviewsTotalProduct,this.ratingSettings.ratingsDetailed="service"===this.opts.mode?this.ratingsDetailedService:this.ratingsDetailedProduct),this.update()}}),(0,n.tag)("feefowidget-merchant-header",s.default,null,f)},function(e,t,i){"use strict";var n=i(1),o=a(i(351));i(350),i(156);var s=a(i(27));function a(e){return e&&e.__esModule?e:{default:e}}function r(){this.mixin(r.prototype),this.tagCssClasses={"feefowidget-footer__footer":!0,"feefowidget-footer_desktop-mode":!0,"feefowidget-tag":!0,"feefowidget-footer_facebook-mode":this.opts.isFacebookWidget,"feefowidget-footer_floating-mode":this.opts.isTypeFloating,"feefowidget-footer_freefo-mode":this.opts.isTypeFreefo,"feefowidget-footer_verified-mode":this.opts.displayImportedReviews,"feefowidget-footer_lightbox-mode":"lightbox-service"===this.opts.integrationType||"lightbox-product"===this.opts.integrationType},this.on("mount",this._onMount),this.on("update",this._onUpdate),this.on("updated",this._onUpdated)}Object.assign(r.prototype,s.default.prototype,{_onMount:function(){this._onUpdate(),this._insertNodes(),this.update()},_onUpdate:function(){this.reviewLink=this.opts.customReviewLink||this.opts.reviewUrl,this.showDesktopVersion=!(this.opts.mobileVersion&&"floating-service"===this.opts.integrationType)},_onUpdated:function(){this._insertNodes()},_insertNodes:function(){s.default.call(this,this.opts.translationNodes);var e={verified:{classes:".feefowidget-footer__b2c-verified-reviews",text:"".concat(this.getNode("node_readAllVerifiedReviews")," (").concat(this.opts.verifiedReviewsTotal,")")},link:{classes:".feefowidget-footer__b2c-reviews-link",text:this.getNode("node_readAllReviews")},tagline:{classes:".feefowidget-global-container-footer-feefo-tagline, .feefowidget-footer__vendor-tagline",text:this.getNode("node_independentCustomerFeedback")}};this.insertNode(e.verified),this.insertNode(e.link),this.insertNode(e.tagline)}}),(0,n.tag)("feefowidget-footer",o.default,null,r)},function(e,t,i){"use strict";var n=i(1),o=a(i(359));i(358);var s=a(i(2));function a(e){return e&&e.__esModule?e:{default:e}}function r(){this.mixin(r.prototype),this.on("mount",this._onMount),this.on("update",this._onUpdate),this.on("page",this._onPage),this.configInstance=s.default.init(this),this.configInstance=s.default.setReference(this.opts.widgetReference,this.configInstance),this.isShortMode=!1,this.isLongMode=!1,this.showFirst=!1,this.showPrevious=!1,this.showNext=!0}Object.assign(r.prototype,{_onMount:function(){this.opts.page=this.opts.page?parseInt(this.opts.page,10):1,this.opts.pages=this.opts.pages?parseInt(this.opts.pages,10):1,this._getPaginationsMode(),this.update()},_getPaginationsMode:function(){var e=this.configInstance.data;this.isShortMode=!e.isTypeFacebook&&e.isModeProduct,this.isLongMode=!!e.isTypeFacebook||!e.isModeProduct},_onUpdate:function(){this._preparePages(),this.showFirst=this.opts.page>2,this.showPrevious=this.opts.page>1,this.showNext=this.opts.page<this.opts.pages},_onPage:function(){"function"==typeof this.opts.onChange&&this.opts.onChange(this.opts.page)},_selectPage:function(e){this.opts.page=e,this.trigger("page",e)},_preparePages:function(){this.pages=[];var e=this.opts.page,t=this.opts.pages;e>3&&this.pages.push({label:1,key:1,clickable:!0}),e>4&&this.pages.push({label:"...",key:"dots1",clickable:!1}),e>2&&this.pages.push({label:e-2,key:e-2,clickable:!0}),e>1&&this.pages.push({label:e-1,key:e-1,clickable:!0}),this.pages.push({label:e,key:e,clickable:!1}),t-e>0&&this.pages.push({label:e+1,key:e+1,clickable:!0}),t-e>1&&this.pages.push({label:e+2,key:e+2,clickable:!0}),t-e>3&&this.pages.push({label:"...",key:"dots2",clickable:!1}),t-e>2&&this.pages.push({label:t,key:t,clickable:!0})},selectPage:function(e){var t=this;return function(){t._selectPage(e)}},itemSelected:function(e){return e.label===this.opts.page?"feefowidget-pagination-list-item-selected":""}}),(0,n.tag)("feefowidget-feedbacks-pagination",o.default,null,r)},function(e,t,i){"use strict";var n=i(1),o=r(i(2)),s=r(i(27)),a=r(i(371));function r(e){return e&&e.__esModule?e:{default:e}}function d(){this.mixin(d.prototype),this.configInstance=o.default.init(this),this.on("mount",this._onMount)}i(369),Object.assign(d.prototype,s.default.prototype,{_onMount:function(){this.configInstance=o.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this._insertNodes()},_insertNodes:function(){s.default.call(this,this.config.translations.nodes),this.insertNode({classes:".feefowidget-verified-text",text:this.getNode("node_verified")})}}),(0,n.tag)("feefowidget-verified-badge",a.default,null,d)},function(e,t,i){"use strict";var n=i(1),o=a(i(374));i(373),i(159),i(47);var s=a(i(2));function a(e){return e&&e.__esModule?e:{default:e}}function r(){this.mixin(r.prototype),this.configInstance=s.default.init(this),this.overlayData={productsPurchased:[],widgetReference:null},this.overlayTrigger=null,this.widgetReference=null,this.hideOnParentScroll=!0,this.on("mount",this._onMount),this.on("update",this._onUpdate)}Object.assign(r.prototype,{_configureOverlayTrigger:function(){this.overlayTrigger=this.root.querySelector("em.feefowidget-icon-tags")},_onMount:function(){this.configInstance=s.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this.overlayData.widgetReference=this.opts.widgetReference,this.widgetReference=this.opts.widgetReference,this._configureOverlayTrigger(),this.update()},_onUpdate:function(){this.overlayData.productsPurchased=this.opts.productsPurchased instanceof Array?this.opts.productsPurchased:[]}}),(0,n.tag)("feefowidget-service-products-purchased-icon",o.default,null,r)},function(e,t,i){"use strict";var n,o=i(1),s=i(376),a=(n=s)&&n.__esModule?n:{default:n};i(375),(0,o.tag)("feefowidget-service-products-purchased-overlay",a.default,null)},function(e,t,i){"use strict";var n=i(1),o=a(i(378));i(377),i(159),i(47);var s=a(i(2));function a(e){return e&&e.__esModule?e:{default:e}}function r(){this.mixin(r.prototype),this.configInstance=s.default.init(this),this.firstPurchasedProduct="",this.moreLabel="",this.overlayData={productsPurchased:[],widgetReference:null},this.overlayTrigger=null,this.widgetReference=null,this.on("mount",this._onMount)}Object.assign(r.prototype,{_configureOverlayTrigger:function(){this.overlayTrigger=this.root.querySelector("span.feefowidget-more-trigger")},_generateMoreLabel:function(){var e=this.config.translations.nodes.node_noOfMore||"{{number}} more";this.moreLabel=e.replace("{{number}}",this.overlayData.productsPurchased.length)},_onMount:function(){this._postMountSetup(),this._generateMoreLabel(),this.update(),this._configureOverlayTrigger(),this.update()},_postMountSetup:function(){this.configInstance=s.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this.firstPurchasedProduct=this.opts.productsPurchased instanceof Array&&this.opts.productsPurchased[0]||"",this.overlayData.productsPurchased=this.opts.productsPurchased instanceof Array?this.opts.productsPurchased.slice(1,this.opts.productsPurchased.length):[],this.overlayData.widgetReference=this.opts.widgetReference,this.widgetReference=this.opts.widgetReference}}),(0,n.tag)("feefowidget-service-products-purchased-dropdown",o.default,null,r)},function(e,t,i){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT=t.ENABLED_OPTIONS=t.DROPDOWN_LIST=void 0;var o,s=i(29),a=(o=s)&&o.__esModule?o:{default:o};function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var d={default:{getLabel:function(){return""},value:"fakeSelectedProperty",hidden:!0},lowQuality:{getLabel:function(e){return e.node_lowQualityText},value:"low quality"},copyrightMaterial:{getLabel:function(e){return(0,a.default)(e.node_copyrightMaterialText)},value:"copyright material"},wrongLocation:{getLabel:function(e){return e.node_wrongLocationText},value:"wrong location"},irrelevant:{getLabel:function(e){return(0,a.default)(e.node_irrelevantText)},value:"irrelevant"},notFamilyFriendly:{getLabel:function(e){return(0,a.default)(e.node_notFamilyFriendlyText)},value:"not family friendly"},dublicate:{getLabel:function(e){return e.node_duplicateText},value:"duplicate"},promotional:{getLabel:function(e){return(0,a.default)(e.node_promotionalNotOriginalText)},value:"promotional/not original"},other:{getLabel:function(e){return e.node_otherText},value:"other"}};t.DROPDOWN_LIST=[d.default,d.lowQuality,d.copyrightMaterial,d.wrongLocation,d.irrelevant,d.notFamilyFriendly,d.dublicate,d.promotional,d.other],t.ENABLED_OPTIONS=(r(n={},d.default.value,!0),r(n,d.lowQuality.value,!0),r(n,d.copyrightMaterial.value,!0),r(n,d.wrongLocation.value,!0),r(n,d.irrelevant.value,!0),r(n,d.notFamilyFriendly.value,!0),r(n,d.dublicate.value,!0),r(n,d.promotional.value,!0),r(n,d.other.value,!0),n),t.TEXT={btn:{node:"node_flagProblemImageText",defaultText:"Click here to flag a problem"},placeholder:{node:"node_pleaseSelectReasonText",defaultText:"Please select a reason"},cancel:{node:"node_cancelLabel",defaultText:"Cancel"}}},function(e,t,i){"use strict";var n=i(1),o=a(i(397));i(396),i(395),i(47);var s=a(i(2));function a(e){return e&&e.__esModule?e:{default:e}}function r(){this.mixin(r.prototype),this.configInstance=s.default.init(this),this.overlayData={attributes:[],widgetReference:null},this.overlayTrigger=null,this.widgetReference=null,this.on("mount",this._onMount)}Object.assign(r.prototype,{_configureOverlayTrigger:function(){this.overlayTrigger=this.root.querySelector("button.feefowidget-attributes-trigger")},_onMount:function(){this._postMountSetup(),this._configureOverlayTrigger(),this.update()},_postMountSetup:function(){this.configInstance=s.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this.overlayData.attributes=this.opts.attributes instanceof Array?this.opts.attributes:[],this.overlayData.widgetReference=this.opts.widgetReference,this.widgetReference=this.opts.widgetReference}}),(0,n.tag)("feefowidget-product-attributes-icon",o.default,null,r)},function(e,t,i){"use strict";var n=i(1),o=r(i(29)),s=r(i(399));i(398),i(164);var a=r(i(2));function r(e){return e&&e.__esModule?e:{default:e}}function d(){this.mixin(d.prototype),this.configInstance=a.default.init(this),this.item={},this.widgetReference=this.opts.widgetReference,this.on("mount",this._onMount)}Object.assign(d.prototype,{_onMount:function(){this.configInstance=a.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this.item=this.opts.item,this._insertNodes(),this.update()},_insertNodes:function(){var e=this.config.translations.nodes||{};if(!this.item.author){var t=e.node_trustedCustomer||"Trusted Customer";this.item.author=(0,o.default)(t)||t}}}),(0,n.tag)("feefowidget-feedbacks-comment",s.default,null,d)},function(e,t,i){"use strict";var n=i(1),o=d(i(5));i(403);var s=d(i(2)),a=d(i(99));i(98);var r=d(i(401));function d(e){return e&&e.__esModule?e:{default:e}}function c(){this.mixin(c.prototype),this.configInstance=s.default.setReference(this.opts.widgetReference,s.default.init(this)),this.charsLimit=parseInt(this.opts.charsLimit,10),this.charsLimitSelectors={mainWrapper:".text-restriction-wrapper",readLink:".text-restriction-link"},this.mainContainerState="text-restriction-show-less",this.rootElement=(0,o.default)(this.root),this.text=this.opts.item[this.opts.property],this.configInstance.listen(this),this.on("mount",this._prepareText)}i(400),Object.assign(c.prototype,{_prepareText:function(){this.reviewContainer=(0,o.default)(this.rootElement).find(this.charsLimitSelectors.mainWrapper),this._deleteInsideTags("<br/>"),this.text.length>this.charsLimit&&this.opts.allowCharsLimit?this._updateCroppedText():((0,o.default)(this.reviewContainer).find(this.charsLimitSelectors.readLink).remove(),this.onClick())},_updateCroppedText:function(){var e=o.default.truncate(this.text,{length:this.charsLimit,words:!1});this.croppedText=a.default.highlightWords(e),this.update()},onClick:function(){(0,o.default)(this.reviewContainer).toggleClass(this.mainContainerState)},_deleteInsideTags:function(e){var t;this.text.indexOf(e)>0&&(t=new RegExp("/"+e+"/g"),this.text=this.text.replace(t,""))}}),(0,n.tag)("feefowidget-chars-limit",r.default,null,c)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={image:"ignore-purify-1h0Ih","image--desktop":"ignore-purify-43hDK","image--auto":"ignore-purify-2n3Sp"}},function(e,t){e.exports='<img if="{image && image.url}" riot-src="{image.url}" alt="{image.alt}" class="{imageClasses}">\n'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){e.exports='<a\n  onclick="{scrollToTop}"\n  href="#"\n  class="feefowidget-scroll-to-top__link">\n  <i class="feefowidget-icon feefowidget-icon-arrow-up feefowidget-scroll-to-top__icon"></i>\n</a>\n'},function(e,t,i){"use strict";var n=i(1),o=a(i(5)),s=a(i(302));function a(e){return e&&e.__esModule?e:{default:e}}function r(){this.mixin(r.prototype),this.rootElement=(0,o.default)(this.root),this.on("mount",this._onMount)}i(301),Object.assign(r.prototype,{_onMount:function(){this.parentElement=this.rootElement.parent().find(this.opts.selector),this.parentElement.on("scroll",this.showHideElement)},$onDestroy:function(){this.parentElement.off("scroll",this.showHideElement)},showHideElement:function(){var e=this.parentElement.scrollTop()>this.parentElement.outerHeight(!0);this.rootElement[e?"fadeIn":"fadeOut"]()},scrollToTop:function(e){e.preventDefault(),this.parentElement.animate({scrollTop:0},1e3)}}),(0,n.tag)("feefowidget-scroll-to-top",s.default,null,r)},function(e,t){},function(e,t,i){"use strict";var n=i(1),o=a(i(41)),s=a(i(30));function a(e){return e&&e.__esModule?e:{default:e}}function r(){this.mixin(r.prototype),this.mixin(s.default),this.transl=o.default.transformTranslation,this.opts.sentimentsService.on("feature",this._onSelectFeature.bind(this)),this.on("update",this._onUpdate)}i(304),Object.assign(r.prototype,{_onUpdate:function(){if(this.root.innerHTML="",!this.loading){var e=1===this.opts.totalReviews?"node_showingOneReview":"node_showingReviews",t="<b>".concat(this.selectedFeature?this.total:this.opts.totalReviews,"</b>");this.root.innerHTML=this.transl(e,{number:t})}},_onSelectFeature:function(){var e=this;this.selectedFeature=this.opts.sentimentsService.selectedFeature,this.update({loading:!0}),this.opts.sentimentsService.getFeatures().then(function(t){e.total=t.features.reduce(function(t,i){return i.feature===(e.selectedFeature&&e.selectedFeature.feature)?i.mentions:t},0),e.update({loading:!1})}).catch(function(e){return console.log("component: [sentiment-stats], error: ".concat(e))})}}),(0,n.tag)("feefowidget-sentiment-stats",null,null,r)},function(e,t){},function(e,t){e.exports='<div if="{sentence.feedbackId}" class="feefowidget-sentiment-snippet__wrapper">\n  <p class="feefowidget-sentiment-snippet__sentence">\n    "<feefowidget-feature-highlighter text={sentence.text}></feefowidget-feature-highlighter>"\n  </p>\n\n  <div class="feefowidget-sentiment-snippet__descr">\n    <span class="feefowidget-sentiment-snippet__descr-text feefowidget-sentiment-snippet__author">{authorText}</span>\n    <span class="feefowidget-sentiment-snippet__descr-text">{sentence.relativeDate}</span>\n    <b class="feefowidget-sentiment-snippet__descr-text feefowidget-sentiment-snippet__thank hidden">{thankText}</b>\n\n    <span\n      onclick="{showAgreeBlock}"\n      class="feefowidget-sentiment-snippet__descr-text feefowidget-sentiment-snippet__flag">\n      <i class="feefowidget-icon feefowidget-icon-commenting"></i>\n    </span>\n  </div>\n\n  <div class="feefowidget-sentiment-snippet__agree hidden">\n    <span class="feefowidget-sentiment-snippet__question">{questionText}</span>\n    <span class="feefowidget-sentiment-snippet__attitudes">\n      <b onclick="{markHelpful}" class="feefowidget-sentiment-snippet__attitude">{translations.node_yes}</b>\n      <b onclick="{markUseless}" class="feefowidget-sentiment-snippet__attitude">{translations.node_no}</b>\n      <b onclick="{hideAgreeBlock}" class="feefowidget-sentiment-snippet__attitude">{translations.node_cancelLabel}</b>\n    </span>\n  </div>\n</div>\n'},function(e,t,i){"use strict";var n=i(1),o=r(i(29)),s=r(i(307));i(306),i(98);var a=r(i(30));function r(e){return e&&e.__esModule?e:{default:e}}var d="feefowidget-sentiment-snippet",c={emptyTag:"".concat(d,"__empty"),agree:"".concat(d,"__agree"),descr:"".concat(d,"__descr"),flag:"".concat(d,"__flag"),thank:"".concat(d,"__thank")};function f(){var e=this;this.mixin(f.prototype),this.mixin(a.default),this.sentence=this.opts.sentence,this.translations=this._getTranslations(),this.on("mount",function(){e._fetchData(),e._hideFlagIfSelectedYet(),e._addLackedBlankSentiments(),e.questionText=(0,o.default)(e._getTranslationDoesSnippetTalk(e.translations)),e.authorText=(0,o.default)(e.sentence.author),e.thankText=(0,o.default)(e.translations.node_thankYou)})}Object.assign(f.prototype,{_fetchData:function(){var e=this,t=function(t){return e.root.getElementsByClassName(c[t])[0]};this.descr=t("descr"),this.agree=t("agree"),this.flag=t("flag"),this.thank=t("thank")},openFullReview:function(){var e=this.opts.sentence.feedbackId,t=this.opts.sentimentsService.websiteUrlFor(e);window.open(t)},_getTranslations:function(){return Object.create(this.parent.parent.translations)},_getTranslationDoesSnippetTalk:function(e){return-1!==this.opts.sentimentsService.integrationType.indexOf("product")?e.node_doesSnippetTalkPositiveAboutProduct:e.node_doesSnippetTalkPositiveAboutService},showAgreeBlock:function(){this.descr.classList.add("hidden"),this.agree.classList.remove("hidden"),this.track({event:"click",elementName:"sentisum-flag"})},markHelpful:function(){this._markAttitude(!0)},markUseless:function(){this._markAttitude(!1)},_markAttitude:function(e){var t={saleId:this.sentence.saleId,sentence:this.sentence.text};this.opts.sentimentsService.setFlag(this.sentence.feedbackId,e,t),this.agree.classList.add("hidden"),this.descr.classList.remove("hidden"),this.flag.classList.add("hidden"),this.thank.classList.remove("hidden"),this.track({event:"click",elementName:"sentisum-helpful-vote"})},hideAgreeBlock:function(){this.agree.classList.add("hidden"),this.descr.classList.remove("hidden")},_hideFlagIfSelectedYet:function(){this.opts.sentimentsService.getFlag(this.sentence)&&this.flag.classList.add("hidden")},_addLackedBlankSentiments:function(){this.sentence&&this.sentence.feedbackId||this.root.classList.add(c.emptyTag)}}),(0,n.tag)(d,s.default,null,f)},function(e,t){},function(e,t){e.exports='<div show={items.length} class="feefowidget-sentiment-snippets__wrapper">\n\n  <h4 class="feefowidget-sentiment-snippets__title">{config.translations.nodes.node_atAGlance}</h4>\n\n  <div class="feefowidget-sentiment-snippets__list">\n    <feefowidget-sentiment-snippet\n      each="{item in items}"\n      sentence="{item}"\n      sentiments-service={parent.opts.sentimentsService}\n      widget-reference="{parent.widgetReference}"\n      class="feefowidget-sentiment-snippets__snippet">\n    </feefowidget-sentiment-snippet>\n  </div>\n</div>\n'},function(e,t,i){"use strict";var n=i(1),o=r(i(310));i(309),i(308);var s=r(i(2)),a=r(i(106));function r(e){return e&&e.__esModule?e:{default:e}}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(){this.mixin(c.prototype),this.configInstance=s.default.init(this),this.translations=this.parent.translations,this.opts.sentimentsService.on("feature",this.fetchData.bind(this)),this.items=[],this.fetchData(),this.on("mount",this._onMount)}Object.assign(c.prototype,{_onMount:function(){this.configInstance=s.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this)},fetchData:function(){var e=this;this.opts.sentimentsService.getSnippets().then(function(t){e.items=e._prepareData(t.snippets),e.update()}).catch(function(e){return console.log("component: [sentiment-snippets], error: ".concat(e))})},_prepareData:function(e){var t=this;return Array.isArray(e)?e.slice(0,4).map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){d(e,t,i[t])})}return e}({},e,{relativeDate:a.default.convertTimestampToDate(e.date),author:e.author||t.parent.translations.node_trustedCustomer})}).sort(function(e,t){return e.date<t.date?1:e.date>t.date?-1:0}):[]}}),(0,n.tag)("feefowidget-sentiment-snippets",o.default,null,c)},function(e,t){},function(e,t){e.exports='<div\n  show="{features.length}"\n  class="feefowidget-sentiment-features__reviews">\n  <a\n    onclick="{onFeatureSelect}"\n    title=""\n    class="\n      feefowidget-sentiment-features__btn\n      {feefowidget-sentiment-features__btn--active: selectedFeature === null }\n    ">\n    {allReviewsText} ({ opts.totalReviews })\n  </a>\n  <a\n    onclick="{onFeatureSelect}"\n    each="{ item, index in features }"\n    feature-index="{index}"\n    title=""\n    class="\n      feefowidget-sentiment-features__btn\n      {feefowidget-sentiment-features__btn--active: item.feature === (selectedFeature && selectedFeature.feature) }\n    ">\n    { item.feature } ({ item.mentions })\n    \x3c!--icon catches the parent onclick event and unselect current feature--\x3e\n    <i\n      class="feefowidget-icon feefowidget-icon-times feefowidget-sentiment-features__btn-icon"\n      aria-hidden="true">\n    </i>\n  </a>\n</div>\n'},function(e,t,i){"use strict";var n=i(1),o=c(i(29)),s=c(i(30)),a=i(143),r=c(a),d=c(i(313));function c(e){return e&&e.__esModule?e:{default:e}}i(312);var f=".feefowidget-sentiment-widgets",l="empty";function u(){var e=this;this.mixin(u.prototype),this.mixin(s.default),this.mixin(r.default),this.features=[],this.selectedFeature=null,this.allReviewsText=(0,o.default)(this.parent.translations.node_allReviews),this.on("mount",this._onMount),this.opts.sentimentsService.on("feature",function(){e.selectedFeature=e.opts.sentimentsService.selectedFeature}),this.observer.on(a.GLOBAL_EVENTS.SELECT_FEATURE,this._selectFeature)}Object.assign(u.prototype,{_onMount:function(){var e=this;this.opts.sentimentsService.trigger("feature",null),this.opts.sentimentsService.getFeatures().then(function(t){e.features=t.features||[],e.features.length&&e.root.closest(f).classList.remove(l),e.update()})},_selectFeature:function(e){!(null===e||this.features.some(function(t){return t.feature===e.feature}))||this.selectedFeature&&e&&this.selectedFeature.feature===e.feature||this.opts.sentimentsService.setFeature(e)},onFeatureSelect:function(e){e.preventDefault();var t=e.target.getAttribute("feature-index"),i=null===t?null:this.features[t];this._selectFeature(i),this.track({event:"click",elementName:i?"sentisum-feature":"sentisum-dismiss-feature"})}}),(0,n.tag)("feefowidget-sentiment-features",d.default,null,u)},function(e,t){},function(e,t){e.exports='<div class="feefowidget-sentiment-widgets-features-sentiments">\n  <div if={opts.topicsEnabled}>\n    <div class="feefowidget-sentiment-widgets-heading">\n      <span class="title feefowidget-what-people-talking-about">{title}</span>\n    </div>\n\n    <feefowidget-sentiment-features\n      class="feefowidget-sentiment-features"\n      sentiments-service="{sentimentsService}"\n      total-reviews="{opts.totalReviews}"\n      widget-reference="{widgetReference}">\n    </feefowidget-sentiment-features>\n  </div>\n\n  <feefowidget-sentiment-snippets\n    if={opts.snippetsEnabled}\n    class="feefowidget-sentiment-snippets"\n    sentiments-service="{sentimentsService}"\n    widget-reference="{widgetReference}">\n  </feefowidget-sentiment-snippets>\n</div>\n\n<feefowidget-sentiment-stats\n  class="feefowidget-sentiment-stats"\n  sentiments-service="{sentimentsService}"\n  total-reviews="{opts.totalReviews}"\n  widget-reference="{widgetReference}">\n</feefowidget-sentiment-stats>\n'},function(e,t,i){"use strict";var n=i(1),o=c(i(29)),s=c(i(316));i(315),i(314),i(311),i(305);var a=c(i(133)),r=c(i(99)),d=c(i(2));function c(e){return e&&e.__esModule?e:{default:e}}var f={empty:"empty",noSelectedFeatures:"no-feature"};function l(){this.mixin(l.prototype),this.root.classList.add(f.noSelectedFeatures),this.root.classList.add(f.empty),this.widgetReference=this.opts.widgetReference,this.translations=this.parent.config.translations.nodes,this.config=d.default.init(this),d.default.setReference(this.opts.widgetReference,this.config),this._setTextNodes(),this.sentimentsService=new a.default({integrationType:this.opts.integrationType,reviewUrl:this.opts.reviewUrl,onLoading:this.opts.onLoading,displaySnippets:this.opts.snippetsEnabled}),this.sentimentsService.on("feature",this.onFeature.bind(this)),this.opts.snippetsEnabled&&(this.sentimentsService.on("snippets",this.onSnippets.bind(this)),this.onSnippets()),this.root.classList.add(f.noSelectedFeatures),this.root.classList.add(f.empty)}Object.assign(l.prototype,{_setTextNodes:function(){var e=this.translations.node_whatPeopleTalkingAbout;this.title=(0,o.default)(e)||e},onFeature:function(e){this.root.classList.toggle(f.noSelectedFeatures,null===e),this.opts.networkTracking.useFeatureFilter(e&&e.feature);var t=null!==e?e.searchFeatures:[];r.default.setWords(t);var i={pagination:{currentPage:1}};null!==e&&Array.isArray(e.searchFeatures)&&(i.selectedFeature=e.searchFeatures.join()),this.opts.eventsInstance.broadcast("fetch-selected-feature",i.selectedFeature),this.opts.eventsInstance.broadcast("fetch-reviews",i)},onSnippets:function(){var e=this;this.sentimentsService.getSnippets().then(function(t){e.root.classList.contains(f.empty)&&t.snippets&&e.root.classList.remove(f.empty),e.opts.networkTracking.setSnippets.bind(e.opts.networkTracking)}).catch(function(e){return console.log("component: [sentiment-widget], error: ".concat(e))})}}),(0,n.tag)("feefowidget-sentiment-widget",s.default,null,l)},function(e,t,i){"use strict";e.exports=function(e){return e.split(/;\s*/g).reduce(function(e,t){return t?(e[(t=t.split(/:\s*/g))[0]]=t[1],e):e},{})}},function(e,t){},function(e,t){e.exports='<div\n  class="\n    feefowidget-product-media-widget\n    feefowidget-tag\n    feefowidget-media-widget-{opts.widgetStyle}\n    feefowidget-product-media-widget__items\n    feefowidget-product-media-widget__items--type-{mediaSize}\n    {feefowidget-limited: isLimited()}\n  "\n  riot-style={containerStyle}>\n  <feefowidget-product-media-item\n    each="{mediaItem, index in opts.mediaService.mediaItems}"\n    index="{index}"\n    on-click="{parent.onClick}"\n    size="{mediaSize}"\n    src="{mediaItem._tThumbnail.src}"\n    type="{mediaItem._tThumbnail.type}"\n    widget-reference="{parent.widgetReference}"\n    class="feefowidget-product-media-widget__media-gallery-item">\n  </feefowidget-product-media-item>\n  <div class="feefowidget-clearfix"></div>\n  <div\n    riot-style="display: {isLimited() ? \'block\' : \'none\'}"\n    class="feefowidget-media-widget-button-overlay">\n    <button\n      onclick="{toggleExpanded}"\n      type="button">\n      {parent.config.translations.nodes.node_viewMore} ({opts.mediaService.mediaItems.length - limit})\n    </button>\n  </div>\n\n  \x3c!-- Media Modal --\x3e\n  <div if="{opts.mediaService.mediaItems.length}">\n    <feefowidget-window-modal\n      track-click="{opts.trackClick}"\n      close-modal="{mediaModalClose}"\n      modal-class="feefowidget-modal-product-media"\n      render-data="{mediaModalData}"\n      render-tag="feefowidget-product-media-modal"\n      show-modal="{mediaModalShow}"\n      widget-reference="{widgetReference}">\n    </feefowidget-window-modal>\n  </div>\n</div>\n'},function(e,t,i){"use strict";var n=i(1),o=d(i(320));i(319),i(74),i(96),i(58);var s=d(i(30)),a=d(i(2)),r=d(i(318));function d(e){return e&&e.__esModule?e:{default:e}}var c=["small","big"];function f(){this.mixin(f.prototype),this.mixin(s.default),this.configInstance=a.default.init(this),this.expanded=!1,this.index=0,this.limit=12,this.mediaModalData={index:0,media:[],setMediaIndex:this.setMediaIndex,widgetReference:null},this.mediaModalShow=!1,this.widgetReference=null,this.on("mount",this._onMount),this.on("update",this._updateHeight)}Object.assign(f.prototype,{_onMount:function(){this.configInstance=a.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this.mediaModalData.widgetReference=this.opts.widgetReference,this.widgetReference=this.opts.widgetReference,this.mediaSize=this.opts.size&&c.includes(this.opts.size)?this.opts.size:"big",this.update()},_updateHeight:function(){delete this.containerStyle;var e=this.opts.styleOverride;if(e){var t=(0,r.default)(e).height.match(/\d+/);t&&(t=Number(t[0])+50,this.containerStyle={height:t+"px"})}},isLimited:function(){return"desktop"===this.opts.widgetStyle&&!this.expanded&&this.opts.mediaService.mediaItems.length>this.limit},mediaModalClose:function(){this.mediaModalShow=!1},onClick:function(e){this.mediaModalData.index="number"==typeof e?e:0,this.mediaModalData.media=Array.isArray(this.opts.mediaService.mediaItems)?this.opts.mediaService.mediaItems:[],this.mediaModalShow=!0,this.update()},setMediaIndex:function(e){this.mediaModalData.index=e,this.update()},toggleExpanded:function(){this.expanded=!this.expanded,this.track({event:"click",elementName:"expand-image-grid"})}}),(0,n.tag)("feefowidget-product-media-widget",o.default,null,f)},function(e,t){},function(e,t){e.exports='<div class="{config.viewportClasses}">\n  <feefowidget-product-attributes-item\n    each="{attribute in opts.attributes}"\n    item="{attribute._transformed}"></feefowidget-product-attributes-item>\n</div>\n'},function(e,t,i){"use strict";var n=i(1),o=a(i(323));i(322),i(97);var s=a(i(2));function a(e){return e&&e.__esModule?e:{default:e}}function r(){this.mixin(r.prototype),this.configInstance=s.default.init(this),this.widgetReference=null,this.on("mount",this._onMount)}Object.assign(r.prototype,{_onMount:function(){this.configInstance=s.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this.opts.attributes=this.opts.attributes instanceof Array?this.opts.attributes:[],this.widgetReference=this.opts.widgetReference,this.update()}}),(0,n.tag)("feefowidget-product-attributes-widget",o.default,null,r)},function(e,t){},function(e,t){e.exports='<div class="feefowidget-header-reviews-title\n  { feefowidget-header-reviews-title-no-floating: !(config.isTypeFloating || config.isTypeFacebook) }\n  { feefowidget-header-reviews-title-award: opts.isAwardLevel }"></div>\n\n'},function(e,t,i){"use strict";var n=i(1),o=r(i(326));i(325);var s=r(i(2)),a=r(i(27));function r(e){return e&&e.__esModule?e:{default:e}}function d(){this.mixin(d.prototype),this.configInstance=s.default.init(this),this.configInstance=s.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this.on("mount",this._onMount)}Object.assign(d.prototype,a.default.prototype,{_onMount:function(){this._insertNodes()},_insertNodes:function(){a.default.call(this,this.opts.nodes),this.insertNode({classes:".feefowidget-header-reviews-title",text:this.nodes[this.opts.headerTitleReviewsMode]})}}),(0,n.tag)("feefowidget-merchant-header-reviews-title",o.default,null,d)},,,,,,function(e,t){},function(e,t){e.exports='<div\n  if="{opts.rating >= 0}"\n  class="feefowidget-rating-values">\n  <div class="feefowidget-rating-average">{opts.rating}</div>/5\n</div>\n\n<div class="feefowidget-down-arrow">\n  <i class="feefowidget-icon feefowidget-icon-caret-down"></i>\n</div>\n\n<feefowidget-window-overlay\n  open-on="hover click"\n  position="bottom right"\n  render-data="{overlayData}"\n  render-tag="feefowidget-rating-overlay"\n  theme="drop-theme-feefo drop-theme-rating"\n  recheck-position="true"\n  triangle-selector=".feefowidget-rating-overlay__triangle"\n  top-level="true"\n  trigger-element="{overlayTrigger}">\n</feefowidget-window-overlay>\n'},function(e,t,i){"use strict";var n=i(1),o=a(i(334));i(333),i(153),i(47);var s=a(i(2));function a(e){return e&&e.__esModule?e:{default:e}}function r(){this.mixin(r.prototype),this.configInstance=s.default.init(this),this.overlayData={stars:{one:0,two:0,three:0,four:0,five:0},total:0,triangle:{show:!0},widgetReference:null},this.overlayTrigger=null,this.on("mount",this._onMount),this.on("update",this._onUpdate)}Object.assign(r.prototype,{_onMount:function(){this.configInstance=s.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this.overlayData.widgetReference=this.opts.widgetReference,this.widgetReference=this.opts.widgetReference,this.overlayTrigger=this.root.closest(".feefowidget-merchant-header-popover-wrap"),this.update()},_onUpdate:function(){var e=this,t=this.opts.ratingsDetailed;this.overlayData.total=0,["one","two","three","four","five"].forEach(function(i){var n=Number(t[i+"Star"])||0;e.overlayData.stars[i]=n,e.overlayData.total+=n}),this.overlayData.labels=this.opts.ratingLabels}}),(0,n.tag)("feefowidget-rating-dropdown",o.default,null,r)},function(e,t){},function(e,t){e.exports='<div class="feefowidget-product-features-overlay">\n  <feefowidget-product-attributes-item\n    each="{attribute in opts.attributes}"\n    item="{attribute._transformed}">\n  </feefowidget-product-attributes-item>\n</div>\n'},function(e,t,i){"use strict";var n,o=i(1),s=i(337),a=(n=s)&&n.__esModule?n:{default:n};i(336),i(97),(0,o.tag)("feefowidget-product-features-overlay",a.default,null)},function(e,t){},function(e,t){e.exports='<button \n  class="feefowidget-attributes-trigger"\n  type="button">\n  <span>{parent.config.translations.nodes.node_features}</span>\n  <i class="feefowidget-icon feefowidget-icon-caret-down"></i>\n</button>\n\n<feefowidget-window-overlay\n  open-on="click"\n  position="bottom right"\n  render-data="{overlayData}"\n  render-tag="feefowidget-product-features-overlay"\n  theme="drop-theme-feefo feefowidget-product-features-drop"\n  trigger-element="{overlayTrigger}">\n</feefowidget-window-overlay>\n'},function(e,t,i){"use strict";var n,o=i(1),s=i(340),a=(n=s)&&n.__esModule?n:{default:n};function r(){this.mixin(r.prototype),this.overlayData={attributes:[]},this.overlayTrigger=null,this.on("mount",this._onMount)}i(339),i(338),i(47),Object.assign(r.prototype,{_onMount:function(){this.overlayTrigger=this.root.querySelector("button.feefowidget-attributes-trigger"),this.overlayData.attributes=this.opts.attributes instanceof Array?this.opts.attributes:[],this.overlayData.widgetReference=this.opts.widgetReference,this.update()}}),(0,o.tag)("feefowidget-product-features-dropdown",a.default,null,r)},function(e,t){},function(e,t,i){e.exports='<div class="{ feefowidget-header-information-ratings: !opts.collapsedHeaderRating }\n            { feefowidget-header-information-ratings-collapsed: opts.collapsedHeaderRating }">\n  <div class="feefowidget-merchant-header-popover-wrap">\n    <feefowidget-rating-stars\n      colour="yellow"\n      rating="{ opts.ratingSettings.ratingsOverall }"\n      widget-reference="{ opts.widgetReference }">\n    </feefowidget-rating-stars>\n    <div\n      if="{ facebookWidget }"\n      class="feefowidget-rating-label feefowidget-facebook">\n      <span>{parent.opts.ratingsOverallService}</span>\n      <span>/5</span>\n    </div>\n\n    <feefowidget-rating-dropdown\n      if="{ !facebookWidget }"\n      ratings-detailed="{ opts.ratingSettings.ratingsDetailed }"\n      rating-labels="{ opts.ratingSettings.ratingLabels }"\n      rating="{ opts.ratingSettings.ratingsOverall }"\n      widget-reference="{ opts.widgetReference }"\n      is-type="{ config.isTypeFloating }">\n    </feefowidget-rating-dropdown>\n\n    <feefowidget-rating-dropdown\n      if="{ facebookWidget }"\n      ratings-detailed="{ opts.ratingSettings.ratingsDetailed }"\n      rating-labels="{ opts.ratingSettings.ratingLabels }"\n      widget-reference="{ opts.widgetReference }">\n    </feefowidget-rating-dropdown>\n  </div>\n\n  <feefowidget-product-features-dropdown\n    if="{ showFeaturesDropdown }"\n    attributes="{ opts.attributes }"\n    location="header"\n    widget-reference="{ opts.widgetReference }">\n  </feefowidget-product-features-dropdown>\n\n  <div\n    if="{ !config.displayImportedReviews }"\n    class="feefowidget-logo">\n    <img\n      src="'+i(26)+'"\n      alt="feefo logo"\n      title=""/>\n  </div>\n</div>\n'},function(e,t,i){"use strict";var n=i(1),o=a(i(343));i(342),i(341),i(335),i(28);var s=a(i(2));function a(e){return e&&e.__esModule?e:{default:e}}(0,n.tag)("feefowidget-merchant-header-rating",o.default,null,function(){this.configInstance=s.default.init(this),this.configInstance=s.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this.facebookWidget=this.opts.isFacebookWidget,this.showFeaturesDropdown=this.config.isViewportTabletMobile&&this.opts.ratingSettings&&this.opts.ratingSettings.attributesShow})},function(e,t){},function(e,t){e.exports='\x3c!-- For Type: Lightbox and onPage --\x3e\n<div\n  if="{!config.isTypeFacebook}"\n  class="feefowidget-merchant-header__content\n         {feefowidget-merchant-header__content--award: config.serviceAwardLevel}\n         {config.viewportClasses}\n         {feefowidget-header-floating: config.isTypeFloating}\n         {feefowidget-header-lightbox: config.isTypeLightbox}\n         {feefowidget-header-product: config.isModeProduct}\n         {feefowidget-header-service: config.isModeService}\n         {header-collapsed: opts.mobileVersion}">\n\n  <div class="feefowidget-merchant-header__summary">\n    <div\n      if="{headerImage !== null}"\n      class="feefowidget-header-image">\n      <img\n        riot-src="{headerImage}"\n        alt="merchant image"\n        title="">\n    </div>\n\n    <div class="\n    feefowidget-merchant-header__info-wrapper\n    feefowidget-header-information\n    {feefowidget-floating-header: config.isTypeFloating}\n  ">\n      <div class="feefowidget-header-information-title">\n        <h2\n          if="{headerTitle && showTitle}"\n          title="{headerTitle}">\n          {headerTitle}\n        </h2>\n        <h2\n          if="{!headerTitle && showTitle}"\n          title="{parent.config.translations.nodes.node_reviews || \'Reviews\'}">\n          {parent.config.translations.nodes.node_reviews || \'Reviews\'}\n        </h2>\n      </div>\n\n      <feefowidget-merchant-header-rating\n        if="{widgetLoaded}"\n        rating-settings="{ratingSettings}"\n        widget-reference="{opts.widgetReference}"\n        attributes="{attributes}"\n        is-facebook-widget="{config.isTypeFacebook}">\n      </feefowidget-merchant-header-rating>\n\n      \x3c!-- Collapsed header --\x3e\n      <feefowidget-merchant-header-rating\n        if="{widgetLoaded}"\n        rating-settings="{ratingSettings}"\n        widget-reference="{opts.widgetReference}"\n        attributes="{attributes}"\n        is-facebook-widget="{config.isTypeFacebook}"\n        collapsed-header-rating="{true}">\n      </feefowidget-merchant-header-rating>\n\n      <feefowidget-merchant-header-reviews-title\n        if="{widgetLoaded}"\n        header-title-reviews-mode="{headerTitleReviewsMode}"\n        nodes="{verifiedReviewsTranslation}"\n        is-award-level="{config.serviceAwardLevel}"\n        widget-reference="{widgetReference}">\n      </feefowidget-merchant-header-reviews-title>\n    </div>\n  </div>\n\n  <feefowidget-award-badge\n    if="{config.serviceAwardLevel}"\n    is-desktop="{configInstance.data.isViewportDesktop}"\n    class="feefowidget-merchant-header__award-badge">\n  </feefowidget-award-badge>\n</div>\n\n\x3c!-- For type: Facebook --\x3e\n<div\n  if="{config.isTypeFacebook}"\n  class="{config.viewportClasses}">\n\n  <feefowidget-merchant-header-rating\n    if="{widgetLoaded}"\n    rating-settings="{ratingSettings}"\n    widget-reference="{opts.widgetReference}"\n    attributes="{attributes}"\n    is-facebook-widget="{config.isTypeFacebook}">\n  </feefowidget-merchant-header-rating>\n\n  <feefowidget-merchant-header-reviews-title\n    if="{widgetLoaded}"\n    header-title-reviews-mode="{headerTitleReviewsMode}"\n    nodes="{verifiedReviewsTranslation}"\n    widget-reference="{widgetReference}">\n  </feefowidget-merchant-header-reviews-title>\n</div>\n'},function(e,t){},function(e,t){e.exports='\x3c!-- For Facebook --\x3e\n<div class="feefowidget-media-widget-facebook">\n  <div class="feefowidget-media-widget-header__media-wrapper">\n    <feefowidget-product-media-item\n      each="{mediaItem, index in reviewMediaItems}"\n      index="{index}"\n      more="{index === (maxMediaCount - 1) ? hiddenMediaCount : \'\'}"\n      is-mobile-version="{false}"\n      on-click="{parent.onClick}"\n      src="{mediaItem._tThumbnail.src}"\n      type="{mediaItem._tThumbnail.type}"\n      widget-reference="{parent.widgetReference}">\n    </feefowidget-product-media-item>\n  </div>\n</div>\n\n\x3c!-- Media Modal --\x3e\n<div if="{opts.mediaService.mediaItems.length}">\n  <feefowidget-window-modal\n    track-click="{opts.trackClick}"\n    close-modal="{mediaModalClose}"\n    modal-class="feefowidget-modal-product-media"\n    render-data="{mediaModalData}"\n    render-tag="feefowidget-product-media-modal"\n    show-modal="{mediaModalShow}"\n    widget-reference="{widgetReference}">\n  </feefowidget-window-modal>\n</div>\n\n'},function(e,t,i){"use strict";var n=i(1),o=d(i(102)),s=d(i(348));i(347),i(74),i(96),i(58);var a=d(i(30)),r=d(i(2));function d(e){return e&&e.__esModule?e:{default:e}}function c(){this.mixin(c.prototype),this.mixin(o.default),this.configInstance=r.default.init(this),this.expanded=!1,this.index=0,this.limit=12,this.mediaModalData={index:0,media:[],setMediaIndex:this.setMediaIndex.bind(this),widgetReference:this.opts.widgetReference},this.mediaModalShow=!1,this.widgetReference=this.opts.widgetReference,this.maxMediaCount=10,this.mixin(a.default),this.on("mount",this._onMount),this.on("update",this._onUpdate)}Object.assign(c.prototype,o.default.prototype,{_onMount:function(){this.configInstance=r.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this.update()},_onUpdate:function(){this.item=this.opts.mediaService,this.setMedia(this.item,this.maxMediaCount)},isLimited:function(){return"desktop"===this.opts.widgetStyle&&!this.expanded&&this.opts.mediaService.mediaItems.length>this.limit},mediaModalClose:function(){this.mediaModalShow=!1},onClick:function(e){this.mediaModalData.index="number"==typeof e?e:0,this.mediaModalData.media=Array.isArray(this.opts.mediaService.mediaItems)?this.opts.mediaService.mediaItems:[],this.mediaModalShow=!0,this.update()},setMediaIndex:function(e){this.mediaModalData.index=e,this.update()},toggleExpanded:function(e){e&&e.stopPropagation(),this.expanded=!this.expanded,this.track({event:"click",elementName:"expand-image-grid"})}}),(0,n.tag)("feefowidget-media-widget-header",s.default,null,c)},function(e,t){},function(e,t,i){e.exports='<div class="feefowidget-footer">\n  <div\n    if="{showDesktopVersion}"\n    class={tagCssClasses}>\n    <div class="feefowidget-footer__links clearfix {(this.opts.isTypeFloating) ? \'feefowidget-footer__links_floating-mode\': \'\'}">\n      \x3c!-- Feefo Logo --\x3e\n      <div class="feefowidget-footer__vendor\n      {(this.opts.isTypeFloating) ? \'feefowidget-footer__vendor_floating-mode\': \'\'}\n      {opts.displayImportedReviews ? \'feefowidget-footer__vendor_verified-mode\' : \'\'}">\n        <a\n          href="http://www.feefo.com"\n          target="_blank"\n          title=""\n          data-feefowidget-nofollow>\n          <img\n            if="{!opts.isTypeFloating}"\n            onClick="{opts.trackLogoClick}"\n            class="feefowidget-footer__logo feefowidget-footer__logo--small feefowidget-footer__vendor-logo"\n            src="'+i(26)+'"\n            alt="feefo logo"\n            title=""/>\n          <img\n            if="{opts.isTypeFloating}"\n            onClick="{opts.trackLogoClick}"\n            class="\n              feefowidget-footer__logo\n              feefowidget-footer__logo--big\n              feefowidget-footer__vendor\n              feefowidget-footer__vendor_floating-mode\n            "\n            src="'+i(26)+'"\n            alt="feefo logo"\n            title=""/>\n          <span\n            if="{!opts.isTypeFloating}"\n            class="feefowidget-footer__vendor-tagline">\n        </span>\n        </a>\n      </div>\n\n      \x3c!-- Read All Reviews - Standard mode  --\x3e\n      <div class="feefowidget-footer__b2c-reviews {(this.opts.isTypeFloating) ? \'feefowidget-footer__b2c-reviews_floating-mode\': \'\'}">\n        <a\n          class="feefowidget-footer__b2c-reviews-link"\n          onClick="{opts.trackAllReviewsClick}"\n          href="{reviewLink}"\n          target="_blank"\n          title=""\n          data-feefowidget-nofollow>\n        </a>\n      </div>\n    </div>\n\n    \x3c!-- Feedbacks Pagination --\x3e\n    <div\n      if="{(opts.isViewportDesktop || opts.isViewportTablet  || opts.isFacebookWidget) && !opts.isTypeFloating && opts.pagination.noPages > 1}"\n      class="feefowidget-footer__pagination">\n      <feefowidget-feedbacks-pagination\n        on-change="{opts.pagination.callback}"\n        page="{opts.pagination.currentPage}"\n        pages="{opts.pagination.noPages}"\n        viewport="opts.desktop"\n        widget-reference="{opts.widgetReference}">\n      </feefowidget-feedbacks-pagination>\n    </div>\n  </div>\n\n  \x3c!--Footer for floating widget in moble version--\x3e\n  <div\n    if="{!showDesktopVersion}"\n    class="feefowidget-footer__footer feefowidget-footer_mobile-mode feefowidget-footer_floating-mode">\n\n    <div class="feefowidget-footer__links clearfix">\n      <div class="feefowidget-footer__b2c-reviews feefowidget-footer__b2c-reviews_mobile-mode">\n        <a\n          class="{opts.displayImportedReviews ? \'feefowidget-footer__b2c-verified-reviews\'  : \'feefowidget-footer__b2c-reviews-link\'}"\n          href="{reviewLink}"\n          target="_blank"\n          title=""\n          data-feefowidget-nofollow>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(e,t){},function(e,t){e.exports='<div class="feefowidget-feedbacks-tabs-wrapper">\n  <button\n    if="{showCustomerExperienceTab()}"\n    class="feefowidget-tabs-button {active: opts.tab === \'service\'} {disabled: opts.reviewsLoading}"\n    data-tab="service"\n    onclick="{toggleActive}">\n    Customer Experience Reviews\n    <span show="{!config.isViewportMobile}">({opts.reviewsTotalService})</span>\n  </button>\n  <button\n    if="{showProductTab()}"\n    class="feefowidget-tabs-button {active: opts.tab === \'product\'} {disabled: opts.reviewsLoading}"\n    data-tab="product"\n    onclick="{toggleActive}">\n    Product Reviews\n    <span show="{!config.isViewportMobile}">({opts.reviewsTotalProduct})</span>\n  </button>\n</div>\n'},function(e,t,i){"use strict";var n=i(1),o=a(i(2)),s=a(i(353));function a(e){return e&&e.__esModule?e:{default:e}}function r(){this.mixin(r.prototype),this.configInstance=o.default.init(this),this.on("mount",this._onMount)}i(352),Object.assign(r.prototype,{_onMount:function(){this.configInstance=o.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this)},selectTab:function(e){"function"==typeof this.opts.selectTabCallback&&this.opts.selectTabCallback(e)},showCustomerExperienceTab:function(){return"both"===this.config.merchantFeedbackType||"service"===this.config.merchantFeedbackType},showProductTab:function(){return"both"===this.config.merchantFeedbackType||"product"===this.config.merchantFeedbackType},toggleActive:function(e){var t=e.currentTarget.dataset.tab;this.opts.reviewsLoading||this.opts.tab===t||this.selectTab(t)}}),(0,n.tag)("feefowidget-feedbacks-tabs",s.default,null,r)},function(e,t){},function(e,t){e.exports='<div class="feefowidget-viewport-wrapper {config.viewportClasses}">\n  <button\n    class="feefowidget-sorting-newest {feefowidget-sort-selected: opts.sort === \'newest\'}"\n    onclick="{sortBy}"\n    data-sort-criteria="newest"\n    type="button">\n    {config.translations.nodes.node_newest}\n  </button>\n  <button\n    class="feefowidget-sorting-popular {feefowidget-sort-selected: opts.sort === \'popular\'}"\n    onclick="{sortBy}"\n    data-sort-criteria="popular"\n    type="button">\n    {config.translations.nodes.node_popular}\n  </button>\n</div>\n'},function(e,t,i){"use strict";var n=i(1),o=r(i(27)),s=r(i(2)),a=r(i(356));function r(e){return e&&e.__esModule?e:{default:e}}function d(){this.mixin(d.prototype),this.configInstance=s.default.init(this),this.widgetReference=null,this.on("mount",this._onMount)}i(355),Object.assign(d.prototype,o.default.prototype,{_onMount:function(){this.configInstance=s.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this.opts.sort=this.opts.sort?this.opts.sort:"newest",this.widgetReference=this.opts.widgetReference,this._insertNodes(),this.update()},_insertNodes:function(){o.default.call(this,this.config.translations.nodes);var e={newest:{classes:".feefowidget-sorting-newest",text:this.getNode("node_newest")},popular:{classes:".feefowidget-sorting-popular",text:this.getNode("node_popular")}};this.insertNode(e.newest),this.insertNode(e.popular)},sortBy:function(e){this.opts.sort=e.target.getAttribute("data-sort-criteria"),this.opts.sort&&"function"==typeof this.opts.onChange&&this.opts.onChange(this.opts.sort)}}),(0,n.tag)("feefowidget-feedbacks-sorting",a.default,null,d)},function(e,t){},function(e,t){e.exports='<div class="feefowidget-pagination-list">\n  <div\n    if="{isShortMode}"\n    class="feefowidget-pagination-list--short">\n    <div\n      riot-style="display: {showFirst ? \'inline-block\' : \'none\'}"\n      onclick="{selectPage(1)}"\n      class="feefowidget-pagination-item feefowidget-pagination-list-item feefowidget-pagination-list-item-first">\n      <span class="feefowidget-pagination-text-button">First</span>\n    </div>\n    <div\n      riot-style="display: {showPrevious ? \'inline-block\' : \'none\'}"\n      onclick="{selectPage(opts.page - 1)}"\n      class="feefowidget-pagination-item feefowidget-pagination-list-item feefowidget-pagination-list-item-prev">\n      <span class="feefowidget-pagination-text-button">Previous</span>\n    </div>\n    <div\n      riot-style="display: {showNext ? \'inline-block\' : \'none\'}"\n      onclick="{selectPage(opts.page + 1)}"\n      class="feefowidget-pagination-item feefowidget-pagination-list-item feefowidget-pagination-list-item-next">\n      <span class="feefowidget-pagination-text-button">Next</span>\n    </div>\n  </div>\n\n  <div\n    if="{isLongMode}"\n    class="feefowidget-pagination-list--long">\n    <div\n      riot-style="display: {showPrevious ? \'inline-block\' : \'none\'}"\n      onclick="{selectPage(opts.page - 1)}"\n      class="feefowidget-pagination-item feefowidget-pagination-list-item feefowidget-pagination-list-item-prev">\n      <i class="feefowidget-icon feefowidget-icon-angle-left"></i>\n    </div>\n    <div\n      each="{ page in pages }"\n      key="key"\n      onclick="{page.clickable ? selectPage(page.label) : null}"\n      class="feefowidget-pagination-item feefowidget-pagination-list-item { itemSelected(page) }">\n      {page.label}\n    </div>\n    <div\n      riot-style="display: {showNext ? \'inline-block\' : \'none\'}"\n      onclick="{selectPage(opts.page + 1)}"\n      class="feefowidget-pagination-item feefowidget-pagination-list-item feefowidget-pagination-list-item-next">\n      <i class="feefowidget-icon feefowidget-icon-angle-right"></i>\n    </div>\n  </div>\n</div>\n'},function(e,t){},function(e,t){e.exports='<div class="feefowidget-feedbacks-loading">\n  <i\n    class="\n        feefowidget-feedbacks-loading__icon\n        feefowidget-icon\n        feefowidget-icon-spinner\n        feefowidget-icon-spin\n      ">\n  </i>\n</div>\n'},function(e,t,i){"use strict";var n,o=i(1),s=i(361),a=(n=s)&&n.__esModule?n:{default:n};i(360),(0,o.tag)("feefowidget-feedbacks-loading",a.default,null)},function(e,t){},function(e,t){e.exports='<div class="feefowidget-tag feefowidget-feedbacks-item-facebook {config.viewportClasses}">\n  \x3c!-- Title --\x3e\n  <div\n    if="{item.summary}"\n    class="feefowidget-section-title">\n    <span class="feefowidget-feedback-title">{item.summary}</span>\n  </div>\n\n  \x3c!-- Rating and Features --\x3e\n  <div class="feefowidget-section-rating">\n    <div class="feefowidget-section-rating-verified">\n      <feefowidget-rating-stars\n        colour="yellow"\n        rating="{item.rating}"\n        widget-reference="{widgetReference}"></feefowidget-rating-stars>\n      <feefowidget-verified-badge\n        if="{parent.config.isViewportTabletMobile && !item.imported && config.displayImportedReviews}"\n        widget-reference="{widgetReference}"\n        is-tablet-mobile-or-floating="{parent.config.isViewportTabletMobile || parent.config.isTypeFloating}"></feefowidget-verified-badge>\n    </div>\n\n    <span\n      if="{!item.imported || item.customerName}"\n      class="feefowidget-display-name">{item.displayName}</span>\n    <span class="feefowidget-time-ago">{item.dateTime}</span>\n\n    <feefowidget-product-attributes-icon\n      if="{item.productAttributes && item.productAttributes.length > 0}"\n      attributes="{item.productAttributes}"\n      widget-reference="{widgetReference}"></feefowidget-product-attributes-icon>\n\n    <feefowidget-service-products-purchased-icon\n      if="{parent.config.isViewportTabletMobile && config.isModeService && item.productsPurchased !== null}"\n      products-purchased="{item.productsPurchased}"\n      widget-reference="{widgetReference}"></feefowidget-service-products-purchased-icon>\n    <feefowidget-service-products-purchased-dropdown\n      if="{parent.config.isViewportDesktop && config.isModeService && item.productsPurchased !== null}"\n      products-purchased="{item.productsPurchased}"\n      widget-reference="{widgetReference}"></feefowidget-service-products-purchased-dropdown>\n\n    <feefowidget-verified-badge\n      if="{!parent.config.isViewportTabletMobile && !item.imported && config.displayImportedReviews}"\n      widget-reference="{widgetReference}"\n      is-tablet-mobile-or-floating="{parent.config.isViewportTabletMobile}"></feefowidget-verified-badge>\n  </div>\n\n  \x3c!-- Review Comment --\x3e\n  <div class="feefowidget-section-review"></div>\n\n  \x3c!-- Replies --\x3e\n  <div\n    if="{item.commentsFirst !== null || item.commentsRemaining !== null}"\n    class="feefowidget-section-replies">\n    \x3c!-- First Response --\x3e\n    <div\n      if="{item.commentsFirst !== null}"\n      class="feefowidget-section-replies-first">\n      <feefowidget-feedbacks-comment\n        item="{item.commentsFirst._transformed}"\n        widget-reference="{widgetReference}"></feefowidget-feedbacks-comment>\n    </div>\n\n    \x3c!-- Remaining Responses --\x3e\n    <div\n      if="{item.commentsRemaining !== null}"\n      class="feefowidget-section-replies-remaining">\n      <a\n        class="feefowidget-show-hide-more"\n        onclick="{toggleShowMoreComments}">\n        {showMoreComments ? parent.config.translations.nodes.node_hideReplies : parent.config.translations.nodes.node_showReplies}\n        <em class="feefowidget-icon {showMoreComments ? \'feefowidget-icon-angle-up\' : \'feefowidget-icon-angle-down\'}"></em>\n      </a>\n\n      <feefowidget-feedbacks-comment\n        if="{showMoreComments}"\n        each="{comment in item.commentsRemaining}"\n        item="{comment._transformed}"\n        widget-reference="{parent.widgetReference}"></feefowidget-feedbacks-comment>\n    </div>\n  </div>\n\n  \x3c!-- Media Items --\x3e\n  <div\n    if="{item.mediaItems !== null}"\n    class="feefowidget-section-media feefowidget-feedbacks-item-facebook__media">\n    <feefowidget-product-media-item\n      each="{mediaItem, index in reviewMediaItems}"\n      index="{index}"\n      on-click="{parent.onClick}"\n      more="{index === (maxMediaCount - 1) ? hiddenMediaCount : \'\'}"\n      src="{mediaItem._tThumbnail.src}"\n      type="{mediaItem._tThumbnail.type}"\n      widget-reference="{parent.widgetReference}">\n    </feefowidget-product-media-item>\n\n    \x3c!-- Media Modal --\x3e\n    <div>\n      <feefowidget-window-modal\n        close-modal="{mediaModalClose}"\n        modal-class="feefowidget-modal-product-media"\n        render-data="{mediaModalData}"\n        render-tag="feefowidget-product-media-modal"\n        show-modal="{mediaModalShow}"\n        widget-reference="{widgetReference}"></feefowidget-window-modal>\n    </div>\n  </div>\n\n  \x3c!-- Actions --\x3e\n  <div\n    if="{!item.imported}"\n    class="feefowidget-section-actions">\n    <feefowidget-button-helpful\n      count="{item.helpfulVotes}"\n      on-change="{rateHelpful}"\n      pressed="{item.alreadyVoted}"\n      widget-reference="{widgetReference}"></feefowidget-button-helpful>\n    <feefowidget-button-sharing\n      url-facebook="{item.sharingLinks.facebook}"\n      url-twitter="{item.sharingLinks.twitter}"\n      widget-reference="{widgetReference}"></feefowidget-button-sharing>\n  </div>\n</div>\n'},function(e,t,i){"use strict";var n=i(1),o=c(i(102)),s=c(i(364));i(363),i(101),i(100),i(163),i(162),i(74),i(28),i(160),i(158),i(157),i(58);var a=c(i(95)),r=c(i(2)),d=c(i(60));function c(e){return e&&e.__esModule?e:{default:e}}function f(){this.mixin(f.prototype),this.mixin(o.default),this.configInstance=r.default.init(this),this.item=d.default.feedbacksItem()._transformed,this.mediaModalData={index:0,media:[],setMediaIndex:this.setMediaIndex.bind(this),widgetReference:null},this.mediaModalShow=!1,this.showMoreComments=!1,this.widgetReference=null,this.maxMediaCount=3,this.on("mount",this._onMount)}Object.assign(f.prototype,o.default.prototype,{_insertNode:function(e,t){var i=this.root.querySelectorAll(e)[0];i&&(i.innerHTML=this.item[t])},_insertReview:function(){this._insertNode(".feefowidget-section-review","review")},_insertTitle:function(){this.config.isModeService&&this.item.title&&this._insertNode(".feefowidget-feedback-title","title")},_onMount:function(){this.configInstance=r.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this.item=this.opts.item,this.setMedia(this.item,this.maxMediaCount),this.mediaModalData.widgetReference=this.opts.widgetReference,this.widgetReference=this.opts.widgetReference,this._insertReview(),this._insertTitle(),this.update()},mediaModalClose:function(){this.mediaModalShow=!1},onClick:function(e){this.mediaModalData.index="number"==typeof e?e:0,this.mediaModalData.media=this.opts.item.mediaItems instanceof Array?this.opts.item.mediaItems:[],this.mediaModalShow=!0,this.update()},rateHelpful:function(){var e={id:this.opts.item.saleId,feedbackId:this.opts.item.feedbackId};this.opts.item.helpfulVotes=this.opts.item.alreadyVoted?this.opts.item.helpfulVotes-1:this.opts.item.helpfulVotes+1,this.opts.item.helpfulVotes=this.opts.item.helpfulVotes>=0?this.opts.item.helpfulVotes:0,this.opts.item.alreadyVoted=!this.opts.item.alreadyVoted,a.default.rateHelpful(e)},setMediaIndex:function(e){this.mediaModalData.index=e,this.update()},toggleShowMoreComments:function(){this.showMoreComments=!this.showMoreComments}}),(0,n.tag)("feefowidget-feedbacks-item-facebook",s.default,null,f)},function(e,t){},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAALGPC/xhBQAAAUtJREFUOBGlk79qwzAQxiPZ4NEQaJ/AQ0OydW9wxq7dPRj3pYzx4NGQtd0i8gDdWppnaKHQ0WBbvc/ojJzKLaVaJB3f97s7/VnUdR3meX5fFMVy8YehlPIhFzDTnAshXjzPi9M0ff+JU1XVZdM0D6QJoyhaSRp7Mj9rrddd1x3KsryYAxjzgbTXpPmM47iVWZZ9UOadgWzmIJZ5jWqDILhFIsHZkBlmom8AA5TbcZh3SZK8TQDYuCC+7wvqGWDOPJq/ARyQV4oJMl+ZsidmJ8CCHMm4GkRCnKjnLZeNGA/JC3tG2bQfz4fWum1bbWt4bYuGmDkHZXo+IcgtuN7JpIIzM65qS6Yb9A8g3ZKChrNjHgHnZmRDz7hKrOcgQwsuM78BzjankfhEKA0lIourT0AclTwiLvu+v/vNDCEGIHQuePZPtA2HH/nf7/wFGYQPJDe7kj0AAAAASUVORK5CYII="},function(e,t,i){e.exports='<div class="feefowidget-window-modal-hidden-content">\n  <div class="feefowidget-close-button feefowidget-main-close-button">\n    <img\n      src="'+i(367)+'"\n      alt="close"\n      title="">\n  </div>\n</div>\n'},function(e,t){},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABGdBTUEAALGPC/xhBQAAActJREFUOBGdVEtLAlEU/u44WFBgQlARWQTSohZFoBRlRbWOwBCjyMI2Rot2/YQ2/QIleoAStKh9Uemixy8opMemRW3ctAhRb+fOdRxnmtA6m5nz+u65557vMNhJamUaKIXAeQAMnVoIxxsYSwPKMcIHF9Y0ZjKcRLzIF+MAnzDZfyjsGk7HOoL7Wd1lAKUi4+CFM3K4dWeNbw5MnUN4PyPiJJBWSeGO9HpB9DNycKp+UZmiWbTr/BlEpLplK0RForG8eK4f8a8vc8xQRfQ6dYjKFCRHYjif2kaTo8GSUQop2hNbzFZVgKRGNxDuGcF0ez/mu4bNITQmSmVOyq7BFg9OxjbR0ejSLFolozEEPT5NP3zJIPl6YwaiWVPNFuA0sIXuplYMuLowe7mD3aFFLHj8FZDV2zhK4NY0qie59EDWPt2z1htAwhelIWb4KubR6HDWBKGAR7qaGHtD9p7TiN4nqHW8XhB6e5amVyPuWKQaTPTkt+sYacqxnOzk8pUdv7zNbXj6/LDtiQFCvFs8mpSTLQgI5Ayn/Mt+vtcAoRyZCwkkWCwIaANmBa/SJWnLG0ACCa9gsSAgqNSaItYIxZaZL8KNNVKd/I/F9g1fFJyxpIkNbAAAAABJRU5ErkJggg=="},function(e,t,i){e.exports='\x3c!-- Mobile verified badge --\x3e\n<div\n  if="{opts.isTabletMobileOrFloating}"\n  class="feefowidget-verified-mobile">\n  <span class="feefowidget-verified-green">\n    <span class="feefowidget-tick">\n      <i class="feefowidget-icon feefowidget-icon-check"></i>\n    </span>\n    <span class="feefowidget-verified-text">{parent.config.translations.nodes.node_verified || \'verified\'}</span>\n  </span>\n  <img\n    src="'+i(26)+'"\n    alt="feefo logo"\n    title=""\n    class="feefowidget-logo feefowidget-verified-badge__logo">\n</div>\n\n\x3c!-- Desktop verified badge--\x3e\n<div\n  if="{!opts.isTabletMobileOrFloating}"\n  class="feefowidget-verified-desktop">\n  <span class="feefowidget-verified-check">\n    <img src="'+i(370)+'" alt="check icon" title="">\n  </span>\n  <span class="feefowidget-verified-feefologo">\n    <img\n      src="'+i(26)+'"\n      alt="feefo icon"\n      title=""\n      class="feefowidget-verified-badge__logo">\n  </span>\n  <span class="feefowidget-verified-text">{parent.config.translations.nodes.node_verified || \'verified\'}</span>\n</div>\n'},function(e,t){e.exports=""},function(e,t){},function(e,t){e.exports='<div class="feefowidget-products-purchased {config.viewportClasses}">\n  <em class="feefowidget-icon feefowidget-icon-tags"></em>\n</div>\n\n<feefowidget-window-overlay\n  open-on="hover"\n  position="bottom center"\n  render-data="{overlayData}"\n  render-tag="feefowidget-service-products-purchased-overlay"\n  trigger-element="{overlayTrigger}"\n  hide-on-parent-scroll="{hideOnParentScroll}"></feefowidget-window-overlay>\n'},function(e,t){},function(e,t){e.exports='<div class="feefowidget-service-products-purchased-overlay">\n  <div class="feefowidget-service-products-purchased-overlay-wrapper">\n    <span each="{product in opts.productsPurchased}">{product}</span>\n  </div>\n</div>\n'},function(e,t){},function(e,t){e.exports='<div class="feefowidget-products-purchased {config.viewportClasses}">\n  <em class="feefowidget-icon feefowidget-icon-tags"></em>\n  <b>{firstPurchasedProduct}</b>\n  <span if="{overlayData.productsPurchased.length}">\n    and\n    <span class="feefowidget-more-trigger">{moreLabel}</span>\n  </span>\n</div>\n\n<feefowidget-window-overlay\n  if="{overlayTrigger}"\n  open-on="hover"\n  position="bottom center"\n  render-data="{overlayData}"\n  render-tag="feefowidget-service-products-purchased-overlay"\n  trigger-element="{overlayTrigger}"></feefowidget-window-overlay>\n'},function(e,t){},function(e,t){e.exports='<div if="{renderData && renderData.widgetReference}">\n  <div if="{!isShortView}">\n    <feefowidget-reason-flag\n      show="{isShowFlag}"\n      onclick="{toggleFlag}"\n      title="{flagTitle}">\n    </feefowidget-reason-flag>\n\n    <div\n      hide="{isShowFlag}"\n      class="feefowidget-reason-selecting__reason">\n      <feefowidget-dropdown\n        widget-reference="{renderData.widgetReference}"\n        position="top center"\n        render-data="{renderData}">\n        <yield to="placeholder">\n          <p class="feefowidget-reason-selecting__placeholder">\n            {parent.placeholder}\n          </p>\n        </yield>\n      </feefowidget-dropdown>\n\n      <button\n        onclick="{toggleFlag}"\n        class="feefowidget-reason-selecting__cancel"\n        type="button">\n        {cancelText}\n      </button>\n    </div>\n  </div>\n\n  <div\n    if="{isShortView}"\n    class="feefowidget-reason-selecting__reason">\n    <feefowidget-dropdown\n      widget-reference="{renderData.widgetReference}"\n      position="top right"\n      render-data="{renderData}">\n      <yield to="placeholder">\n        <feefowidget-reason-flag title="{parent.flagTitle}"></feefowidget-reason-flag>\n      </yield>\n    </feefowidget-dropdown>\n  </div>\n</div>\n'},function(e,t,i){"use strict";var n=i(1),o=r(i(2)),s=r(i(380));i(379);var a=i(161);function r(e){return e&&e.__esModule?e:{default:e}}function d(){this.mixin(d.prototype),this.widgetReference=null,this.configInstance=o.default.init(this),this.isShowFlag=!0,this.renderData={enabledOptions:a.ENABLED_OPTIONS,onSelect:this.onSelect.bind(this),selectedValue:void 0,theme:"separated",widgetReference:null},this.on("mount",this._onMount),this.on("update",this._onUpdate)}Object.assign(d.prototype,{_onMount:function(){this.configInstance=o.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this.renderData.widgetReference=this.opts.widgetReference,this.mediaId=this.opts.mediaId,this.nodes=this.config.translations.nodes,this.placeholder=this._getDefaultText(a.TEXT.placeholder),this.flagTitle=this._getDefaultText(a.TEXT.btn),this.cancelText=this._getDefaultText(a.TEXT.cancel),this.renderData.options=this._getDropdownOptions(),this.update()},_onUpdate:function(){this.isShortView=this.config.isTouchScreen||this.config.isViewportTabletMobile,this.mediaId&&this.mediaId!==this.opts.mediaId&&(this.mediaId=this.opts.mediaId,this.isShowFlag=!0)},_getDefaultText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.node,i=e.defaultText;return this.nodes[t]||i},_getDropdownOptions:function(){var e=this;return a.DROPDOWN_LIST.map(function(t){return{value:t.value,label:t.getLabel(e.nodes),hidden:t.hidden}})},onSelect:function(e){var t=e.value;"function"==typeof this.opts.onChange&&this.opts.onChange(t)},toggleFlag:function(){this.isShowFlag=!this.isShowFlag,this.update()}}),(0,n.tag)("feefowidget-reason-selecting",s.default,null,d)},function(e,t){},function(e,t){e.exports='<button\n  title="{ opts.title }"\n  class="feefowidget-reason-flag__btn"\n  type="button">\n  <i class="\n    feefowidget-icon\n    feefowidget-icon-flag\n    feefowidget-reason-flag__icon\n    { feefowidget-reason-flag__icon--selected: opts.isSelected }\n  ">\n  </i>\n</button>\n'},function(e,t,i){"use strict";var n,o=i(1),s=i(383),a=(n=s)&&n.__esModule?n:{default:n};i(382),(0,o.tag)("feefowidget-reason-flag",a.default,null,null)},function(e,t){e.exports='<feefowidget-reason-flag\n  if="{!canSelectReason}"\n  title="{title}"\n  is-selected="{true}">\n</feefowidget-reason-flag>\n\n<feefowidget-reason-selecting\n  if="{canSelectReason}"\n  widget-reference="{opts.widgetReference}"\n  media-id="{opts.mediaId}"\n  on-change="{opts.onChange}">\n</feefowidget-reason-selecting>\n'},function(e,t,i){"use strict";var n,o=i(1),s=i(385),a=(n=s)&&n.__esModule?n:{default:n};i(384),i(381);var r=i(161);function d(){this.mixin(d.prototype),this.on("mount",this._onMount),this.on("update",this._onUpdate)}Object.assign(d.prototype,{_onMount:function(){this.nodes=this.parent.config.translations.nodes,this.update()},_onUpdate:function(){this.opts.selectedReason&&"string"==typeof this.opts.selectedReason?(this.title=this._getSelectedLabel(this.opts.selectedReason),this.canSelectReason=!1):this.canSelectReason=!0},_getSelectedLabel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.toLowerCase().trim(),r.DROPDOWN_LIST.find(function(t){return t.value===e}).getLabel(this.nodes)}}),(0,o.tag)("feefowidget-reason",a.default,null,d)},function(e,t){},function(e,t){e.exports='<div class="feefowidget-modal-wrapper {feefowidget-no-caption: !selectedItem._tModal.caption.length}">\n  <div\n    if="{opts.index > 0}"\n    class="feefowidget-arrow-left-wrapper">\n    <a\n      onclick="{onPrevious}"\n      ontouchstart="{onPrevious}"\n      title="">\n      <em class="feefowidget-icon feefowidget-icon-angle-left"></em>\n    </a>\n  </div>\n\n  <div\n    if="{showHeader}"\n    class="feefowidget-modal-header">\n    <div class="feefowidget-modal-title">\n      <span class="feefowidget-media-type">{selectedItem._tModal.typeLabel} {config.translations.nodes.node_of}</span>\n      <b>{selectedItem._tModal.productTitle}</b>\n    </div>\n  </div>\n\n  <div\n    class="\n      feefowidget-modal-body\n      {feefowidget-video: selectedItem._tModal.type === \'video\'}\n    ">\n\n    <img\n      if="{selectedItem._tModal.type === \'photo\'}"\n      riot-src="{selectedItem._tModal.src}"\n      alt="{selectedItem._tModal.caption}"\n      title=""\n      draggable=\'false\'\n      class="feefowidget-product-media-modal__img"/>\n\n    <iframe\n      if="{selectedItem._tModal.type === \'video\'}"\n      type="text/html"\n      allowfullscreen\n      mozallowfullscreen\n      webkitallowfullscreen\n      riot-src="{selectedItem._tModal.src}"></iframe>\n  </div>\n\n  <div class="feefowidget-modal-footer feefowidget-product-media-modal__footer">\n    <div class="feefowidget-modal-footer-info feefowidget-product-media-modal__footer-info">\n      <div class="feefowidget-product-media-modal__footer-caption">{selectedItem._tModal.caption}</div>\n\n      <div class="feefowidget-product-media-modal__footer-author">\n        <div class="feefowidget-product-media-modal__footer-customer">{customerName}</div>\n        <div class="feefowidget-time-ago feefowidget-product-media-modal__footer-time">{selectedItem._tModal.dateTime}</div>\n      </div>\n    </div>\n\n    <div class="feefowidget-product-media-modal__footer-actions">\n      <div\n        if="{selectedItem._tModal.flaggedReason}"\n        class="feefowidget-product-media-modal__footer-thank">\n        { config.translations.nodes.node_thanksForYourFeedback }\n      </div>\n\n      <div\n        if="{!selectedItem._tModal.flaggedReason}"\n        class="feefowidget-product-media-modal__footer-voting-sharing">\n        \x3c!-- Helpful --\x3e\n        <feefowidget-button-helpful\n          count="{selectedItem._tModal.helpfulVotes}"\n          on-change="{rateMediaHelpful}"\n          pressed="{selectedItem._tModal.alreadyVoted}"\n          widget-reference="{widgetReference}"\n          class="feefowidget-product-media-modal__button-helpful">\n        </feefowidget-button-helpful>\n\n        \x3c!-- Share --\x3e\n        <feefowidget-button-sharing\n          mode="media-modal"\n          url-facebook="{selectedItem._tModal.social.facebook}"\n          url-twitter="{selectedItem._tModal.social.twitter}"\n          widget-reference="{widgetReference}"\n          class="feefowidget-product-media-modal__button-sharing">\n        </feefowidget-button-sharing>\n      </div>\n\n      \x3c!-- Flag Media Problem --\x3e\n      <feefowidget-reason\n        selected-reason="{selectedItem._tModal.flaggedReason}"\n        media-id="{selectedItem._tModal.resourceId}"\n        on-change="{flagMediaProblem}"\n        widget-reference="{widgetReference}">\n      </feefowidget-reason>\n    </div>\n  </div>\n\n  <div\n    if="{opts.index < (opts.media.length -1)}"\n    class="feefowidget-arrow-right-wrapper">\n    <a\n      onclick="{onNext}"\n      ontouchstart="{onNext}"\n      title="">\n      <em class="feefowidget-icon feefowidget-icon-angle-right"></em>\n    </a>\n  </div>\n</div>\n'},function(e,t){},function(e,t){e.exports='<div\n  onclick="{onItemClick}"\n  style="background-image: url(\'{src}\')"\n  class="\n    feefowidget-product-media-item__media\n    feefowidget-product-media-item__media--size-{mediaSize}\n    {feefowidget-product-media-item__media--video: type === \'video\'}\n  ">\n  <span\n    if="{more}"\n    class="feefowidget-product-media-item__more">\n    + {more}\n  </span>\n</div>\n'},function(e,t){},function(e,t){e.exports='<div class="feefowidget-product-attributes-row feefowidget-product-attribute-labels">\n  <div\n    class="feefowidget-attribute-label"\n    title="{opts.item.label}">{opts.item.label}</div>\n  <div class="feefowidget-attribute-score ">{opts.item.rating}</div>\n</div>\n<div class="feefowidget-product-attributes-row feefowidget-product-attribute-meter-wrapper">\n  <div class="feefowidget-product-attribute-meter {color}">\n    <div\n      each="{sectionWidth in sectionWidths}"\n      class="feefowidget-meter-section">\n      <div\n        class="feefowidget-filler"\n        riot-style="{\'width:\' + sectionWidth + \'%;\'}"></div>\n    </div>\n  </div>\n</div>\n'},function(e,t){},function(e,t){e.exports="<div class=\"feefowidget-product-attributes-overlay {opts.attributes.length === 1 ? 'feefowidget-1-attributes' : ''} {opts.attributes.length === 2 ? 'feefowidget-2-attributes' : ''} {opts.attributes.length > 2 ? 'feefowidget-3-attributes' : ''}\">\n  <feefowidget-product-attributes-item\n    each=\"{attribute in opts.attributes}\"\n    item=\"{attribute._transformed}\"></feefowidget-product-attributes-item>\n</div>\n"},function(e,t,i){"use strict";var n,o=i(1),s=i(394),a=(n=s)&&n.__esModule?n:{default:n};i(393),i(97),(0,o.tag)("feefowidget-product-attributes-overlay",a.default,null)},function(e,t){},function(e,t){e.exports='<button \n  class="feefowidget-attributes-trigger"\n  type="button">\n  <i class="feefowidget-icon feefowidget-icon-align-left"></i>\n</button>\n\n<feefowidget-window-overlay\n  theme="drop-theme-feefo drop-theme-hide-overlay-parent"\n  open-on="hover"\n  position="bottom center"\n  render-data="{overlayData}"\n  render-tag="feefowidget-product-attributes-overlay"\n  trigger-element="{overlayTrigger}"></feefowidget-window-overlay>\n'},function(e,t){},function(e,t){e.exports='<div class="feefowidget-feedbacks-comment {config.viewportClasses}{item.isMerchantComment ? \' feefowidget-merchant-comment\' : \'\'}{item.isCustomerComment ? \' feefowidget-customer-comment\' : \'\'}">\n  \x3c!-- Display Name - Merchants --\x3e\n  <div if="{item.isMerchantComment}">\n    <div class="feefowidget-display-name">\n      <span class="feefowidget-author-name">{item.author}</span>,\n      <span class="feefowidget-merchant-name">{item.merchant}</span>\n    </div>\n    \x3c!-- Date/Time --\x3e\n    <span class="feefowidget-time-ago">{item.dateTime}</span>\n    \x3c!-- Merchant Reply Icon --\x3e\n    <em class="feefowidget-icon feefowidget-icon-reply"></em>\n\n    \x3c!-- Message --\x3e\n    <feefowidget-chars-limit\n      allow-chars-limit="{opts.charsLimit}"\n      chars-limit="250"\n      item="{opts.item}"\n      property="message"\n      widget-reference="{widgetReference}"></feefowidget-chars-limit>\n  </div>\n\n  \x3c!-- Display Name - Customers --\x3e\n  <div if="{item.isCustomerComment}">\n    <div class="feefowidget-display-name">\n      <span class="feefowidget-author-name">{item.author}</span>\n    </div>\n    \x3c!-- Date/Time --\x3e\n    <span class="feefowidget-time-ago">{item.dateTime}</span>\n\n    \x3c!-- Message --\x3e\n    <feefowidget-chars-limit\n      allow-chars-limit="{opts.charsLimit}"\n      chars-limit="250"\n      item="{opts.item}"\n      property="message"\n      widget-reference="{widgetReference}"></feefowidget-chars-limit>\n  </div>\n\n</div>\n'},function(e,t){},function(e,t){e.exports='<div class=\'text-restriction-wrapper text-restriction-show-less\'>\n  <div class="text-restriction-container text-restriction-container-more">\n    <feefowidget-feature-highlighter text="{this.text}"></feefowidget-feature-highlighter>\n    <a\n      onclick="{onClick}"\n      class="text-restriction-link link-show-less">\n      <i class="feefowidget-icon feefowidget-icon-angle-up"></i>\n      <span>{config.translations.nodes.node_readLess}</span>\n    </a>\n  </div>\n  <div class="text-restriction-container text-restriction-container-less">\n    <feefowidget-feature-highlighter\n      if="{this.croppedText}"\n      text="{this.croppedText}">\n    </feefowidget-feature-highlighter>\n    <a\n      onclick="{onClick}"\n      class="text-restriction-link link-show-more">\n      <i class="feefowidget-icon feefowidget-icon-angle-down"></i>\n      <span>{config.translations.nodes.node_readMore}</span>\n    </a>\n  </div>\n</div>\n'},function(e,t){},function(e,t,i){var n,o,s,a=i(5);o=/(\s*\S+|\s)$/,s=/^(\S*)/,(n=a).truncate=function(e,t){return n("<div></div>").append(e).truncate(t).html()},n.fn.truncate=function(e){n.isNumeric(e)&&(e={length:e});var t=n.extend({},n.truncate.defaults,e);return this.each(function(){var e=n(this);t.noBreaks&&e.find("br").replaceWith(" ");var i=e.text(),a=i.length-t.length;if(t.stripTags&&e.text(i),t.words&&a>0){var r=i.slice(0,t.length).replace(o,"").length;a=t.keepFirstWord&&0===r?i.length-s.exec(i)[0].length-1:i.length-r-1}a<0||!a&&!t.truncated||n.each(e.contents().get().reverse(),function(e,i){var o=n(i),s=o.text().length;return s<=a?(t.truncated=!0,a-=s,void o.remove()):3===i.nodeType?(t.finishBlock?n(i.splitText(s)).replaceWith(t.ellipsis):n(i.splitText(s-a-1)).replaceWith(t.ellipsis),!1):(o.truncate(n.extend(t,{length:s-a})),!1)})})},n.truncate.defaults={stripTags:!1,words:!1,keepFirstWord:!1,noBreaks:!1,finishBlock:!1,length:1/0,ellipsis:"…"}},function(e,t){},function(e,t){e.exports='<div class="feefowidget-viewport-wrapper {config.viewportClasses}">\n  <div\n    riot-style="display: {!buttonsShown ? \'block\' : \'none\'}"\n    class="feefowidget-share-button"\n    onclick="{toggleButtons}">\n    <i class="feefowidget-icon feefowidget-icon-share"></i>\n    {parent.config.translations.nodes.node_shareLabel}\n  </div>\n  <div\n    riot-style="display: {buttonsShown ? \'flex\' : \'none\'}"\n    class="feefowidget-social-buttons">\n    <a\n      onclick="{openSharePopupWindow}"\n      data-share-type="facebook"\n      title="{parent.config.translations.nodes.node_shareFacebookText}"\n      class="feefowidget-fb-share-button">\n      <i class="feefowidget-fontello feefowidget-fontello-facebook-circle"></i>\n    </a>\n\n    <a\n      onclick="{openSharePopupWindow}"\n      data-share-type="twitter"\n      title="{parent.config.translations.nodes.node_shareTwitterText}"\n      class="feefowidget-twitter-share-button">\n      <i class="feefowidget-fontello feefowidget-fontello-twitter-circle"></i>\n    </a>\n\n    <div\n      class="feefowidget-cancel-button"\n      onclick="{toggleButtons}">\n      {config.translations.nodes.node_cancelLabel}\n    </div>\n  </div>\n</div>\n'},function(e,t){},function(e,t){e.exports='<button\n  class="feefowidget-helpful-button {feefowidget-active: opts.pressed}"\n  onclick="{onClick}"\n  title="{tooltip}"\n  type="button">\n  <i class="feefowidget-icon feefowidget-icon-thumbs-up"></i>\n  {opts.count}\n</button>\n'},function(e,t){},function(e,t){e.exports='<div class="{config.viewportClasses} feefowidget-feedbacks-item feefowidget-tag">\n  \x3c!-- Title --\x3e\n  <div\n    if="{config.isModeService && item.title}"\n    class="feefowidget-section-title">\n    <em\n      if="{!config.isTypeFacebook}"\n      class="feefowidget-icon feefowidget-icon-quote-left"></em>\n    <span class="feefowidget-feedback-title">\n      <feefowidget-feature-highlighter text={item.title}></feefowidget-feature-highlighter>\n    </span>\n  </div>\n\n  \x3c!-- Rating and Features --\x3e\n  <div class="feefowidget-section-rating">\n    <div class="feefowidget-section-rating-verified">\n      <feefowidget-rating-stars\n        colour="yellow"\n        rating="{item.rating}"\n        widget-reference="{widgetReference}">\n      </feefowidget-rating-stars>\n      <feefowidget-verified-badge\n        if="{parent.config.isViewportTabletMobile && !item.imported && config.displayImportedReviews}"\n        widget-reference="{widgetReference}"\n        is-tablet-mobile-or-floating="{parent.config.isViewportTabletMobile || parent.config.isTypeFloating}">\n      </feefowidget-verified-badge>\n    </div>\n\n    <span\n      if="{!item.imported || item.customerName}"\n      class="feefowidget-feedback-item-display-name feefowidget-display-name"></span>\n    <span class="feefowidget-time-ago">{item.dateTime}</span>\n\n    <feefowidget-product-attributes-icon\n      if="{config.isModeProduct && item.productAttributes && item.productAttributes.length > 0}"\n      attributes="{item.productAttributes}"\n      widget-reference="{widgetReference}">\n    </feefowidget-product-attributes-icon>\n\n    <feefowidget-service-products-purchased-icon\n      if="{parent.config.isViewportTabletMobile && config.isModeService && item.productsPurchased !== null}"\n      products-purchased="{item.productsPurchased}"\n      widget-reference="{widgetReference}">\n    </feefowidget-service-products-purchased-icon>\n    <feefowidget-service-products-purchased-dropdown\n      if="{parent.config.isViewportDesktop && config.isModeService && item.productsPurchased !== null}"\n      products-purchased="{item.productsPurchased}"\n      widget-reference="{widgetReference}">\n    </feefowidget-service-products-purchased-dropdown>\n\n    <feefowidget-verified-badge\n      if="{!parent.config.isViewportTabletMobile && !item.imported && config.displayImportedReviews}"\n      widget-reference="{widgetReference}"\n      is-tablet-mobile-or-floating="{parent.config.isViewportTabletMobile}">\n    </feefowidget-verified-badge>\n  </div>\n\n  \x3c!-- Review Comment --\x3e\n  <feefowidget-chars-limit\n    allow-chars-limit="{true}"\n    chars-limit="250"\n    item="{opts.item}"\n    property="review"\n    widget-reference="{widgetReference}">\n  </feefowidget-chars-limit>\n\n  \x3c!-- Replies --\x3e\n  <div\n    if="{item.commentsFirst !== null || item.commentsRemaining !== null}"\n    class="feefowidget-section-replies">\n    \x3c!-- First Response --\x3e\n    <div\n      if="{item.commentsFirst !== null}"\n      class="feefowidget-section-replies-first">\n      <feefowidget-feedbacks-comment\n        chars-limit="{true}"\n        item="{item.commentsFirst._transformed}"\n        widget-reference="{widgetReference}">\n      </feefowidget-feedbacks-comment>\n    </div>\n\n    \x3c!-- Remaining Responses --\x3e\n    <div\n      if="{item.commentsRemaining !== null}"\n      class="feefowidget-section-replies-remaining">\n      <a\n        class="feefowidget-show-hide-more"\n        onclick="{toggleShowMoreComments}">\n        {showMoreComments ? parent.config.translations.nodes.node_hideReplies : parent.config.translations.nodes.node_showReplies}\n        <em class="feefowidget-icon {showMoreComments ? \'feefowidget-icon-angle-up\' : \'feefowidget-icon-angle-down\'}"></em>\n      </a>\n\n      <feefowidget-feedbacks-comment\n        if="{showMoreComments}"\n        each="{comment in item.commentsRemaining}"\n        chars-limit="{false}"\n        item="{comment._transformed}"\n        widget-reference="{parent.widgetReference}">\n      </feefowidget-feedbacks-comment>\n    </div>\n  </div>\n\n  \x3c!-- Media Items --\x3e\n  <div\n    if="{item.mediaItems !== null}"\n    class="feefowidget-section-media feefowidget-feedbacks-item__media">\n    <feefowidget-product-media-item\n      each="{mediaItem, index in reviewMediaItems}"\n      index="{index}"\n      on-click="{parent.onClick}"\n      more="{index === (maxMediaCount - 1) ? hiddenMediaCount : \'\'}"\n      src="{mediaItem._tThumbnail.src}"\n      type="{mediaItem._tThumbnail.type}"\n      widget-reference="{parent.widgetReference}"\n      class="{feefowidget-product-media-item--view-mobile: parent.opts.isMobileView}">\n    </feefowidget-product-media-item>\n\n    \x3c!-- Media Modal --\x3e\n    <div if="{item.mediaItems.length}">\n      <feefowidget-window-modal\n        track-click="{opts.trackClick}"\n        close-modal="{mediaModalClose}"\n        modal-class="feefowidget-modal-product-media"\n        render-data="{mediaModalData}"\n        render-tag="feefowidget-product-media-modal"\n        show-modal="{mediaModalShow}"\n        widget-reference="{widgetReference}">\n      </feefowidget-window-modal>\n    </div>\n  </div>\n\n  \x3c!-- Actions --\x3e\n  <div\n    if="{!item.imported}"\n    class="feefowidget-section-actions">\n    <feefowidget-button-helpful\n      count="{item.helpfulVotes}"\n      on-change="{rateHelpful}"\n      pressed="{item.alreadyVoted}"\n      widget-reference="{widgetReference}">\n    </feefowidget-button-helpful>\n    <feefowidget-button-sharing\n      url-facebook="{item.sharingLinks.facebook}"\n      url-twitter="{item.sharingLinks.twitter}"\n      widget-reference="{widgetReference}">\n    </feefowidget-button-sharing>\n  </div>\n  \x3c!-- Formatted feedback message --\x3e\n  <div\n    if="{item.formattedByFeefo}"\n    class="feefowidget-section-formatted-mark {feefowidget-section-formatted-mark-mobile: config.isViewportMobile}">\n    \x3c!-- TODO: This icon doesn\'t seem to exist but is referenced.-BS --\x3e\n    <i class="feefowidget-icon feefowidget-icon-info-circle"></i>\n    <p>\n      <feefowidget-raw\n        class="feefowidget-media-moderation-label"\n        content="{mediaModerationLabel}">\n      </feefowidget-raw>\n    </p>\n  </div>\n</div>\n'},function(e,t,i){"use strict";var n=i(1),o=g(i(29)),s=g(i(102)),a=g(i(409));i(408),i(101),i(100),i(164),i(98),i(163),i(162),i(74),i(96),i(160),i(158),i(28),i(144),i(157),i(58);var r=g(i(95)),d=g(i(2)),c=g(i(91)),f=g(i(60)),l=g(i(10)),u=g(i(27));function g(e){return e&&e.__esModule?e:{default:e}}function h(){this.mixin(h.prototype),this.mixin(c.default),this.mixin(s.default),this.configInstance=d.default.init(this),this.item=f.default.feedbacksItem()._transformed,this.mediaModalData={index:0,media:[],setMediaIndex:this.setMediaIndex.bind(this),widgetReference:null},this.mediaModalShow=!1,this.showMoreComments=!1,this.widgetReference=this.opts.widgetReference,this.maxMediaCount=3,this.on("mount",this._onMount)}Object.assign(h.prototype,s.default.prototype,u.default.prototype,{_onMount:function(){this.configInstance=d.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this.item=this.opts.item,this.setMedia(this.item,this.maxMediaCount),this.mediaModalData.widgetReference=this.opts.widgetReference,this._initLabels(),this._insertNodes(),this.update()},_insertNodes:function(){var e={name:{classes:".feefowidget-feedback-item-display-name",text:(0,o.default)(this.item.displayName)},moderationLabel:{classes:".feefowidget-media-moderation-label",text:(0,o.default)(this.mediaModerationLabel)}};this.insertNode(e.name),this.insertNode(e.moderationLabel)},_initLabels:function(){this.mediaModerationLabel=l.default.getTranslationWithArgs("node_mediaRemoved",{link_start:'<a href="https://ww2.feefo.com/terms#/reviewcontent" target="_blank" data-feefowidget-nofollow>',link_end:"</a>"})},mediaModalClose:function(){this.mediaModalShow=!1},onClick:function(e){this.mediaModalData.index="number"==typeof e?e:0,this.mediaModalData.media=this.opts.item.mediaItems instanceof Array?this.opts.item.mediaItems:[],this.mediaModalShow=!0,this.update()},rateHelpful:function(){var e={id:this.opts.item.saleId,feedbackId:this.opts.item.feedbackId};this.opts.item.helpfulVotes=this.opts.item.alreadyVoted?this.opts.item.helpfulVotes-1:this.opts.item.helpfulVotes+1,this.opts.item.helpfulVotes=this.opts.item.helpfulVotes>=0?this.opts.item.helpfulVotes:0,this.opts.item.alreadyVoted=!this.opts.item.alreadyVoted,r.default.rateHelpful(e)},setMediaIndex:function(e){this.mediaModalData.index=e,this.update()},toggleShowMoreComments:function(){this.showMoreComments=!this.showMoreComments}}),(0,n.tag)("feefowidget-feedbacks-item",a.default,null,h)},function(e,t){},function(e,t){e.exports="<ul class=\"feefowidget-dropdown-list__list feefowidget-dropdown-list__list--{opts.theme === 'opened' ? 'opened': 'separated'}\">\n  <li\n    each=\"{option in opts.options}\"\n    data-value=\"{option.value}\"\n    data-placeholder=\"{option.label}\"\n    onClick=\"{opts.select}\"\n    class=\"\n      feefowidget-dropdown-list__option\n      feefowidget-dropdown-list__option--{opts.theme === 'opened' ? 'opened': 'separated'}\n      { feefowidget-dropdown-list__option--selected: option.value === opts.selectedValue }\n      { feefowidget-dropdown-list__option--disabled: !opts.enabledOptions[option.value] }\n      { feefowidget-dropdown-list__option--hidden: option.hidden }\n    \">\n    {option.label}\n  </li>\n</ul>\n"},function(e,t,i){"use strict";var n,o=i(1),s=i(412),a=(n=s)&&n.__esModule?n:{default:n};i(411),(0,o.tag)("feefowidget-dropdown-list",a.default,null,null)},function(e,t){},function(e,t){e.exports='<div\n  class="\n    feefowidget-dropdown__btn\n    {feefowidget-dropdown__btn--tablet-mobile: config.isViewportTabletMobile}\n    {feefowidget-dropdown__btn--touch-screen: config.isTouchScreen}\n    feefowidget-dropdown__btn--{renderData.theme === \'opened\' ? \'opened\': \'separated\'}\n    feefowidget-dropdown__btn-click-tracking\n  ">\n  <yield from="placeholder"/>\n  <i\n    class="feefowidget-dropdown__icon feefowidget-icon feefowidget-icon-caret-down"\n    aria-hidden="true">\n  </i>\n</div>\n\n<feefowidget-window-overlay\n  if="{!config.isTouchScreen}"\n  theme="drop-theme-feefo-no-triangle"\n  open-on="click"\n  position="{position}"\n  top-level="true"\n  render-data="{renderData}"\n  render-tag="feefowidget-dropdown-list"\n  on-child-component-attached="{opts.onChildComponentAttached}"\n  trigger-element="{triggerDropdownElement}">\n</feefowidget-window-overlay>\n\n\x3c!--Have either 1st selected or hidden option. Mobiles add \'selected\' to first option--\x3e\n<select\n  if="{config.isTouchScreen}"\n  onChange="{onChangeFromDefaultDropdown}"\n  class="feefowidget-dropdown__select">\n  <option\n    each="{option in renderData.options}"\n    disabled="{ isDisabledOption(option) }"\n    hidden="{option.hidden}"\n    value="{option.value}">\n    {option.label}\n  </option>\n</select>\n'},function(e,t,i){"use strict";var n=i(1),o=a(i(415));i(414),i(413);var s=a(i(2));function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(){this.mixin(d.prototype),this.configInstance=s.default.init(this),this.triggerDropdownElement=void 0,this.renderData={},this.on("mount",this._onMount)}Object.assign(d.prototype,{isDisabledOption:function(e){var t=e.value;return!this.renderData.enabledOptions[t]},onChangeFromDefaultDropdown:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).target.value,t=this.renderData.options.find(function(t){return t.value===e});this._onChangeOption(t)},onChangeFromCustomDropdown:function(e){var t=e.item.option;e&&e.stopPropagation(),this.isDisabledOption(t)||this._onChangeOption(t)},_onChangeOption:function(e){"function"==typeof this.renderData.overlayToggle&&this.renderData.overlayToggle(),this.renderData.onSelect(e)},_onMount:function(){if(this.opts.renderData){var e=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){r(e,t,i[t])})}return e}({},this.opts.renderData);e.select=this.onChangeFromCustomDropdown,this.renderData=e,this.configInstance=s.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this.position=this.opts.position||"bottom center",this.triggerDropdownElement=this.root.querySelector(".feefowidget-dropdown__btn"),this.update()}}}),(0,n.tag)("feefowidget-dropdown",o.default,null,d)},,,function(e,t){},function(e,t){e.exports='<feefowidget-dropdown\n  widget-reference="{opts.widgetReference}"\n  position="bottom right"\n  render-data="{overlayData}">\n    <yield to="placeholder">\n      <feefowidget-rating-stars\n        if="{parent.selectedRating}"\n        colour="yellow"\n        rating="{ parent.selectedRating }"\n        is-clicked="true"\n        widget-reference="{ opts.widgetReference }"\n        class="feedbacks-filtering-dropdown__placeholder">\n      </feefowidget-rating-stars>\n      <span\n        if="{!parent.selectedRating}"\n        class="feedbacks-filtering-dropdown__placeholder">\n          {this.config.translations.nodes.node_allRatings || parent.defaultPlaceholder}\n      </span>\n    </yield>\n  </div>\n</feefowidget-dropdown>\n'},function(e,t,i){"use strict";var n=i(1),o=r(i(420));i(419),i(47),i(416);var s=r(i(20)),a=r(i(2));function r(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c="All ratings",f={all:{value:"all",rating:void 0,node:"node_allRatings"},fiveStar:{value:"fiveStar",rating:5,node:"node_fourOrFiveStars"},fourStar:{value:"fourStar",rating:4,node:"node_fourOrFiveStars"},threeStar:{value:"threeStar",rating:3,node:"node_twoOrThreeStars"},twoStar:{value:"twoStar",rating:2,node:"node_twoOrThreeStars"},oneStar:{value:"oneStar",rating:1,node:"node_oneStar"}};function l(){this.mixin(l.prototype),this.configInstance=a.default.init(this),this.defaultPlaceholder=c,this.overlayData={enabledOptions:{},onSelect:this.onSelect.bind(this),selectedValue:"",widgetReference:null,theme:"opened"},this.widgetReference=null,this.on("mount",this._onMount),this.on("update",this._onUpdate)}Object.assign(l.prototype,{_onMount:function(){this.configInstance=a.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this.overlayData.widgetReference=this.opts.widgetReference,this.widgetReference=this.opts.widgetReference,this._buildLabelTranslations(),this._setInitialPlaceholder(),this.update()},_onUpdate:function(){this.overlayData.enabledOptions="object"===d(this.opts.enabledOptions)?this.opts.enabledOptions:s.default.resolve().FILTERING_ENABLED_OPTIONS,this.overlayData.selectedValue=this.opts.ratings||"all"},_setInitialPlaceholder:function(){var e=this,t=this.overlayData.options.find(function(t){return t.value===e.opts.ratings}).value;this.selectedRating=f[t].rating},_buildLabelTranslations:function(){var e=this.config.translations.nodes,t=function(t){var i=t.rating,n=t.node;return"".concat(i," ").concat(e[n]||"Star")};this.overlayData.options=[{label:e[f.all.node],value:f.all.value},{label:t(f.fiveStar),value:f.fiveStar.value},{label:t(f.fourStar),value:f.fourStar.value},{label:t(f.threeStar),value:f.threeStar.value},{label:t(f.twoStar),value:f.twoStar.value},{label:t(f.oneStar),value:f.oneStar.value}]},onSelect:function(e){var t=e.value;this.opts.enabledOptions[t]&&(this.opts.ratings=t,this.selectedRating=f[t].rating,"function"==typeof this.opts.onChange&&this.opts.onChange(this.opts.ratings),this.update())}}),(0,n.tag)("feefowidget-feedbacks-filtering-dropdown",o.default,null,l)},function(e,t){},function(e,t){e.exports='\x3c!-- Accordion --\x3e\n<div if="{parent.getWidgetStyle() === \'accordion\'}">\n  <button\n    if="{tabs.reviews}"\n    onclick="{switchAccordion}"\n    target-tab="reviews"\n    type="button"\n    class="feefowidget-container-content__accordion-btn {feefowidget-container-content__accordion-btn--selected: displayReviews}">\n    {tabs.reviews}\n  </button>\n\n  \x3c!-- Accordion - Reviews --\x3e\n  <div if={displayReviews}>\n    <yield from="reviews" />\n  </div>\n\n  <button\n    if="{tabs.media}"\n    onclick="{switchAccordion}"\n    target-tab="media"\n    type="button"\n    class="feefowidget-container-content__accordion-btn {feefowidget-container-content__accordion-btn--selected: displayMedia}">\n    {tabs.media}\n  </button>\n\n  \x3c!-- Accordion - Media --\x3e\n  <div riot-style="{displayMedia ? \'display: block;\' : \'display: none;\'}">\n    <yield from="media" />\n  </div>\n</div>\n\n\x3c!-- Tabs --\x3e\n<div if="{parent.getWidgetStyle() === \'tabs\'}">\n  <div\n    if="{mobileTabsVisible()}"\n    class="feefowidget-container-content__tabs">\n    <button\n      if="{tabs.reviews}"\n      onclick="{switchTab}"\n      target-tab="reviews"\n      class="feefowidget-container-content__tabs-btn {feefowidget-container-content__tabs-btn--selected: displayReviews}"\n      type="button">\n      {tabs.reviews}\n    </button>\n\n    <button\n      if={tabs.media}\n      onclick="{switchTab}"\n      target-tab="media"\n      class="feefowidget-container-content__tabs-btn {feefowidget-container-content__tabs-btn--selected: displayMedia}"\n      type="button">\n      {tabs.media}\n    </button>\n  </div>\n\n  \x3c!-- Tabs - Reviews --\x3e\n  <div riot-style="display: {displayReviews ? \'block\' : \'none\'}">\n    <yield from="reviews"></yield>\n  </div>\n\n  \x3c!-- Tabs - Media --\x3e\n  <div riot-style="display: {displayMedia ? \'block\' : \'none\'}">\n    <yield from="media"></yield>\n  </div>\n</div>\n\n\x3c!-- Desktop --\x3e\n<div if="{parent.getWidgetStyle() === \'desktop\'}">\n  <yield from="reviews"></yield>\n</div>\n'},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={node:"node_media",default:"Media"},o={node:"node_reviews",default:"Reviews"};t.default={_getTabText:function(e,t){var i=this.parent.config.translations.nodes,n=e.node;return"".concat(i[n]||e.default," (").concat(t,")")},getMediaPanel:function(){var e=this.parent.mediaService;if(e.show)return this._getTabText(n,e.mediaItems.length)},_getReviewsPanel:function(){var e=this.parent.summary.data._transformed.reviewsTotal;return this._getTabText(o,e)},getPanels:function(){return{reviews:this._getReviewsPanel(),media:this.getMediaPanel()}}}},function(e,t,i){"use strict";var n=i(1),o=d(i(424)),s=d(i(2)),a=d(i(3)),r=d(i(423));function d(e){return e&&e.__esModule?e:{default:e}}function c(){this.mixin(c.prototype),this.mixin(o.default),this.configInstance=s.default.init(this),this.displayMedia=!1,this.displayReviews=!1,this.widgetReference=null,this.widgetStyle=null,this.tabs={},this.on("mount",this._onMount.bind(this)),this.on("update",this._onUpdate.bind(this))}i(422),Object.assign(c.prototype,o.default.prototype,{_onMount:function(){this._postMountSetup(),this.update()},_onUpdate:function(){this.widgetStyle!==this.parent.getWidgetStyle()&&(this._setInitialDisplay(),this.widgetStyle=this.parent.getWidgetStyle()),this.tabs&&!this.tabs.media&&(this.tabs.media=this.getMediaPanel())},_postMountSetup:function(){this.configInstance=s.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),a.default.setConfig("openReviewsAccordion",this.openReviewsAccordion.bind(this)),this._setInitialDisplay(),this.widgetStyle=this.parent.getWidgetStyle(),this.widgetReference=this.opts.widgetReference,this.tabs=this.getPanels()},_setInitialDisplay:function(){switch(this.parent.getWidgetStyle()){case"accordion":this.displayMedia=!1,this.displayReviews=!1;break;case"tabs":this.displayMedia=!1,this.displayReviews=!0}},switchTab:function(e){var t=e.target.getAttribute("target-tab");"reviews"===t?(this.displayReviews=!0,this.displayMedia=!1):"media"===t&&(this.displayReviews=!1,this.displayMedia=!0)},openReviewsAccordion:function(){this.displayReviews=!0,this.update()},switchAccordion:function(e){var t=e.target,i=(t.closest("button")||t).getAttribute("target-tab");"reviews"===i?(this.displayReviews=!this.displayReviews,this.displayMedia=!1):"media"===i&&(this.displayMedia=!this.displayMedia,this.displayReviews=!1)},mobileTabsVisible:function(){return"facebook"!==this.opts.containerType}}),(0,n.tag)("feefowidget-container-content",r.default,null,c)},function(e,t){},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyOSAxNCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNlNWU1ZTU7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5GZWVmby1ncmV5LWljb248L3RpdGxlPjxnIGlkPSJMYXllcl8yIiBkYXRhLW5hbWU9IkxheWVyIDIiPjxnIGlkPSJMYXllcl8xLTIiIGRhdGEtbmFtZT0iTGF5ZXIgMS0yIj48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik03LjMxLDEyLjMzYTUuMTQsNS4xNCwwLDAsMS00LjgtNC44MUgxMy44VjcuMzlDMTMuOCwzLDExLDAsNy4wNSwwQTYuNzEsNi43MSwwLDAsMCwuMTIsN2E2LjkxLDYuOTEsMCwwLDAsNi44LDdIN2E2Ljc0LDYuNzQsMCwwLDAsNi40LTQuNTZIMTIuMjVhNS4xMiw1LjEyLDAsMCwxLTQuNjMsMi45M2gtLjMiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0yMS42NSwxMi4zM2E1LjEzLDUuMTMsMCwwLDAsNC44LTQuODFIMTUuMTZWNy4zOUMxNS4xNiwzLDE4LDAsMjEuOTEsMGE2LjcyLDYuNzIsMCwwLDEsNyw3LDYuOTIsNi45MiwwLDAsMS02LjgxLDdIMjJhNi43NCw2Ljc0LDAsMCwxLTYuNDEtNC41NmgxLjE1YTUuMDksNS4wOSwwLDAsMCw0LjYxLDIuOTFoLjMiLz48L2c+PC9nPjwvc3ZnPg=="},function(e,t,i){e.exports='<div class="{config.viewportClasses}">\n  \x3c!-- If not Facebook widget --\x3e\n  <div\n    if="{widgetReference !== null && !config.isTypeFacebook}"\n    class="feefowidget__global feefowidget-global feefowidget-tag feefowidget-global-container feefowidget-mode-{config.mountMode} {config.viewportClasses}">\n    \x3c!-- Header --\x3e\n    <div class="feefowidget-global-container-header">\n      <feefowidget-merchant-header\n        if="{canShowHeader()}"\n        attributes="{productAttributes.data}"\n        attributes-show="{productAttributes.show}"\n        header-image="{summary.data._transformed.headerImage}"\n        header-title="{summary.data._transformed.headerTitle}"\n        mobile-version="{mobileVersion}"\n        ratings-detailed="{summary.data._transformed.ratingsDetailed}"\n        ratings-overall="{summary.data._transformed.ratingsOverall}"\n        reviews-total="{summary.data._transformed.reviewsTotal}"\n        widget-reference="{widgetReference}"\n        imported-reviews-total="{importedReviewsCount}"\n        verified-reviews-total="{verifiedReviewsCount}">\n      </feefowidget-merchant-header>\n    </div>\n\n    \x3c!-- Body --\x3e\n    <div class="feefowidget-global-container-body clearfix">\n      \x3c!-- Sidebar --\x3e\n      <div\n        if="{getWidgetStyle() === \'desktop\' && (productAttributes.show || mediaService.show)}"\n        class="feefowidget-global-container-body-sidebar">\n        <feefowidget-product-attributes-widget\n          if="{productAttributes.show}"\n          attributes="{productAttributes.data}"\n          widget-reference="{widgetReference}">\n        </feefowidget-product-attributes-widget>\n\n        <feefowidget-product-media-widget\n          if="{mediaService.show && mediaService.mediaItems.length > 10}"\n          track-click="{opts.trackClick}"\n          device="desktop"\n          media-service="{mediaService}"\n          widget-style="{getWidgetStyle()}"\n          widget-reference="{widgetReference}"\n          size="small">\n        </feefowidget-product-media-widget>\n      </div>\n\n      \x3c!-- Content --\x3e\n      <div class="feefowidget-global-container-body-content ola {feefowidget-no-sidebar: (!productAttributes.show && !mediaService.show) || (!productAttributes.show && !(mediaService.mediaItems.length > 10))}">\n        <feefowidget-container-content widget-reference="{widgetReference}">\n          \x3c!-- Reviews --\x3e\n          <yield to="reviews">\n            \x3c!-- Features && Snippets Panel --\x3e\n            <feefowidget-sentiment-widget\n              if="{widgetReference && (parent.configInstance.data.showTopics || parent.configInstance.data.showSnippets)}"\n              topics-enabled="{parent.configInstance.data.showTopics}"\n              snippets-enabled={parent.configInstance.data.showSnippets}\n              on-loading={parent.onSentisumLoading}\n              events-instance={parent.eventsInstance}\n              network-tracking={parent.networkTracking}\n              total-reviews="{parent.summary.data._transformed.ratingsDetailed[parent.filtering.ratings] || parent.summary.data._transformed.reviewsTotal}"\n              review-url={parent.summary.data.merchant.review_url}\n              integration-type="{parent.opts.integrationType}"\n              widget-reference="{widgetReference}"\n              class="feefowidget-global__sentiment-widget feefowidget-sentiment-widgets empty">\n            </feefowidget-sentiment-widget>\n\n            <div class="feefowidget-global__reviews-content">\n              <feefowidget-feedbacks-loading if="{parent.reviews.loading}"></feefowidget-feedbacks-loading>\n              \x3c!--Filters--\x3e\n              <div\n                class="\n                feefowidget-global__filters\n                { feefowidget-global__filters--floating: config.isTypeFloating }\n              ">\n                  <feefowidget-feedbacks-sorting\n                    if="{!config.displayImportedReviews}"\n                    widget-reference="{parent.widgetReference}"\n                    sort="{parent.sorting.type}"\n                    on-change="{parent.sorting.callback}"\n                    class="feefowidget-global__sorting-filter">\n                  </feefowidget-feedbacks-sorting>\n\n                  <feefowidget-feedbacks-filtering-dropdown\n                    widget-reference="{parent.widgetReference}"\n                    enabled-options="{parent.filtering.enabledOptions}"\n                    ratings="{parent.filtering.ratings}"\n                    on-change="{parent.filtering.callback}"\n                    class="feefowidget-global__rating-filter">\n                  </feefowidget-feedbacks-filtering-dropdown>\n                </div>\n\n              <feefowidget-scroll-to-top\n                if="{config.isTypeFloating}"\n                selector="{parent.reviewsContainerSelector}">\n              </feefowidget-scroll-to-top>\n\n              \x3c!-- Feedbacks List --\x3e\n              <div\n                class="feefowidget-global__reviews-container"\n                riot-style="{parent.opts.styleOverride}">\n                \x3c!-- Feedbacks Items --\x3e\n                <feefowidget-feedbacks-item\n                  if="{parent.opts.showReviewsList}"\n                  each="{reviewItem in parent.reviews.data}"\n                  track-click="{parent.parent.opts.trackClick}"\n                  item="{reviewItem._transformed}"\n                  widget-reference="{parent.parent.widgetReference}"\n                  is-mobile-view="{parent.parent.isMobileView}">\n                </feefowidget-feedbacks-item>\n\n                <div\n                  if="{parent.pagination.currentPage === parent.pagination.noPages && parent.config.isTypeFloating}"\n                  class="feefowidget-global__reviews-end">\n                  <img\n                    src="'+i(427)+'"\n                    alt="feefo logo"\n                    title=""\n                    class="feefowidget-global__reviews-end-img"/>\n                </div>\n              </div>\n\n              <feefowidget-feedbacks-pagination\n                if="{config.isViewportTabletMobile && parent.pagination.noPages > 1 && !config.isTypeFloating}"\n                on-change="{parent.pagination.callback}"\n                page="{parent.pagination.currentPage}"\n                pages="{parent.pagination.noPages}"\n                viewport="mobile"\n                widget-reference="{parent.widgetReference}">\n              </feefowidget-feedbacks-pagination>\n            </div>\n          </yield>\n\n          \x3c!-- Media --\x3e\n          <yield to="media">\n            <feefowidget-product-media-widget\n              track-click="{parent.opts.trackClick}"\n              media-service="{parent.mediaService}"\n              widget-style="{parent.getWidgetStyle()}"\n              style-override={parent.opts.styleOverride}\n              widget-reference="{parent.widgetReference}"\n              size="big">\n            </feefowidget-product-media-widget>\n          </yield>\n        </feefowidget-container-content>\n      </div>\n    </div>\n\n    <feefowidget-footer\n      display-imported-reviews="{config.displayImportedReviews}"\n      track-logo-click="{trackLogoClick}"\n      is-type-floating="{config.isTypeFloating}"\n      translation-nodes="{config.translations.nodes}"\n      is-viewport-desktop="{config.isViewportDesktop}"\n      pagination="{pagination}"\n      widget-reference="{widgetReference}"\n      track-all-reviews-click="{trackAllReviewsClick}"\n      custom-review-link="{customReviewLink}"\n      review-url="{getReviewUrl()}"\n      reviews-total="{summary.data._transformed.reviewsTotal}"\n      verified-reviews-total="{verifiedReviewsCount}"\n      mobile-version="{mobileVersion}"\n      integration-type="{opts.integrationType}"\n      is-facebook-widget="{false}">\n    </feefowidget-footer>\n  </div>\n\n  \x3c!-- ONLY FOR FACEBOOK --\x3e\n  <div\n    class="feefowidget-facebook-only"\n    if="{widgetReference !== null && config.isTypeFacebook}">\n\n    \x3c!-- TODO: move this to Facebook container component - Sandy --\x3e\n    <feefowidget-feedbacks-tabs\n      reviews-loading="{reviews.loading}"\n      reviews-total-product="{summaryDistinct.product.data._transformed.reviewsTotal}"\n      reviews-total-service="{summaryDistinct.service.data._transformed.reviewsTotal}"\n      select-tab-callback="{selectFbTab}"\n      tab="{fbTab}"\n      widget-reference="{widgetReference}">\n    </feefowidget-feedbacks-tabs>\n\n    \x3c!-- Header --\x3e\n    <div\n      if="{!reviews.loading}"\n      class="feefowidget-global-container-header">\n      <feefowidget-merchant-header\n        mode="{fbTab}"\n        attributes="{productAttributes.data}"\n        attributes-show="{productAttributes.show}"\n        header-image-product="{summaryDistinct.product.data._transformed.headerImage}"\n        header-title-product="{summaryDistinct.product.data._transformed.headerTitle}"\n        ratings-detailed-product="{summaryDistinct.product.data._transformed.ratingsDetailed}"\n        ratings-overall-product="{summaryDistinct.product.data._transformed.ratingsOverall}"\n        reviews-total-product="{summaryDistinct.product.data._transformed.reviewsTotal}"\n        header-image-service="{summaryDistinct.service.data._transformed.headerImage}"\n        header-title-service="{summaryDistinct.service.data._transformed.headerTitle}"\n        mobile-version="{mobileVersion}"\n        ratings-detailed-service="{summaryDistinct.service.data._transformed.ratingsDetailed}"\n        ratings-overall-service="{summaryDistinct.service.data._transformed.ratingsOverall}"\n        reviews-total-service="{summaryDistinct.service.data._transformed.reviewsTotal}"\n        widget-reference="{widgetReference}">\n      </feefowidget-merchant-header>\n\n      <feefowidget-media-widget-header\n        if="{mediaService.show}"\n        track-click="{opts.trackClick}"\n        device="desktop"\n        media-service="{mediaService}"\n        widget-style="{getWidgetStyle()}"\n        widget-reference="{widgetReference}"\n        link-merchant-vendor-page="{summaryDistinct.service.data._transformed.reviewsUrl}">\n      </feefowidget-media-widget-header>\n    </div>\n\n    \x3c!-- Facebook SERVICE --\x3e\n    <div if="{config.isModeService}">\n      <div class="feefowidget-global-container feefowidget-facebook feefowidget-mode-{config.mountMode}">\n\n        \x3c!-- Body --\x3e\n        <div class="feefowidget-global-container-body">\n\n          \x3c!-- Content --\x3e\n          <div\n            class="feefowidget-global-container-body-content">\n            <feefowidget-container-content container-type="facebook" widget-reference="{widgetReference}">\n              \x3c!-- Reviews --\x3e\n              <yield to="reviews">\n\n                \x3c!-- Feedbacks List --\x3e\n                <div\n                  class="feefowidget-global__reviews-container"\n                  riot-style="{parent.opts.styleOverride}">\n                  \x3c!-- Feedbacks Loading --\x3e\n                  <feefowidget-feedbacks-loading if="{parent.reviews.loading}"></feefowidget-feedbacks-loading>\n\n                  \x3c!-- Feedbacks Items --\x3e\n                  <feefowidget-feedbacks-item\n                    each="{reviewItem in parent.reviews.data}"\n                    item="{reviewItem._transformed}"\n                    widget-reference="{parent.parent.widgetReference}">\n                  </feefowidget-feedbacks-item>\n                </div>\n              </yield>\n\n            </feefowidget-container-content>\n          </div>\n        </div>\n      </div>\n\n      <feefowidget-footer\n        display-imported-reviews="{config.displayImportedReviews}"\n        track-logo-click="{trackLogoClick}"\n        is-type-floating="{config.isTypeFloating}"\n        translation-nodes="{config.translations.nodes}"\n        is-viewport-desktop="{config.isViewportDesktop}"\n        is-viewport-tablet="{tabletVersion}"\n        pagination="{pagination}"\n        widget-reference="{widgetReference}"\n        track-all-reviews-click="{trackAllReviewsClick}"\n        custom-review-link="{customReviewLink}"\n        review-url="{summaryDistinct.service.data.merchant.review_url}"\n        reviews-total="{summary.data._transformed.reviewsTotal}"\n        mobile-version="{mobileVersion}"\n        integration-type="{opts.integrationType}"\n        is-facebook-widget="{true}">\n      </feefowidget-footer>\n    </div>\n\n    \x3c!-- Facebook Product --\x3e\n    <div if="{config.isModeProduct}">\n      <div class="feefowidget-global-container feefowidget-facebook feefowidget-mode-{config.mountMode}">\n\n        \x3c!-- Body --\x3e\n        <div class="feefowidget-global-container-body">\n\n          \x3c!-- Content --\x3e\n          <div class="feefowidget-global-container-body-content {feefowidget-no-sidebar: !productAttributes.show && !mediaService.show}">\n            <feefowidget-container-content container-type="facebook" widget-reference="{widgetReference}">\n              \x3c!-- Reviews --\x3e\n              <yield to="reviews">\n                \x3c!-- Feedbacks List --\x3e\n                <div\n                  class="feefowidget-global__reviews-container"\n                  riot-style="{parent.opts.styleOverride}">\n                  \x3c!-- Feedbacks Loading --\x3e\n                  <feefowidget-feedbacks-loading if="{parent.reviews.loading}"></feefowidget-feedbacks-loading>\n                  \x3c!-- Feedbacks Items --\x3e\n                  <feefowidget-feedbacks-item-facebook\n                    each="{reviewItem in parent.reviews.data}"\n                    item="{reviewItem._transformed}"\n                    widget-reference="{parent.parent.widgetReference}">\n                  </feefowidget-feedbacks-item-facebook>\n                </div>\n              </yield>\n\n            </feefowidget-container-content>\n          </div>\n        </div>\n      </div>\n\n      <feefowidget-footer\n        display-imported-reviews="{config.displayImportedReviews}"\n        track-logo-click="{trackLogoClick}"\n        is-type-floating="{config.isTypeFloating}"\n        translation-nodes="{config.translations.nodes}"\n        is-viewport-desktop="{config.isViewportDesktop}"\n        pagination="{pagination}"\n        widget-reference="{widgetReference}"\n        track-all-reviews-click="{trackAllReviewsClick}"\n        custom-review-link="{customReviewLink}"\n        review-url="{summaryDistinct.product.data.merchant.review_url}"\n        reviews-total="{summary.data._transformed.reviewsTotal}"\n        mobile-version="{mobileVersion}"\n        integration-type="{opts.integrationType}"\n        is-facebook-widget="{true}">\n      </feefowidget-footer>\n    </div>\n  </div>\n</div>\n'},function(e,t){e.exports="<yield/>\n"}])]);